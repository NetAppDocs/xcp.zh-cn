<?xml version="1.0" encoding="UTF-8"?>
<blocks>
  <block id="dc3e4b78f385d96eee62d48189bd45ed" category="summary">配置 ini 文件 XCP 的步骤</block>
  <block id="43f3f6a392074dfc63604c7b136e457f" category="doc">配置 XCP NFS 的 ini 文件</block>
  <block id="f3a29486bed19a90f2da6d007818b427" category="list-title">步骤</block>
  <block id="69ab39c4429204099bcace949edc5493" category="admonition">在修改 `xcp.ini` XCP 配置文件中的详细信息之前，应导出目录位置。目录位置（ NFSv3 ）应可由 XCP Linux 主机挂载，但不一定要挂载。</block>
  <block id="9d1854a18d1a1a9b0aad19c89b6a15b0" category="summary">创建 JSON 配置文件</block>
  <block id="71067d2da44f21581259461be89d2c5b" category="paragraph">如果要启用事件日志消息，系统日志客户端或客户日志记录，请完成以下步骤。</block>
  <block id="d4f0fd36ab870ee5b451ed975a3b840d" category="list-text">打开任何文本编辑器，例如记事本或 vi 。</block>
  <block id="d4b54477c37b7ad7e878a796746f262b" category="list-text">使用以下 JSON 模板创建新文件。</block>
  <block id="7c584a16cbf4210dc0a344179e274e09" category="cell">默认配置</block>
  <block id="a2f0a9650b74152ef4105d29bb0e92f0" category="cell">json 配置文件示例</block>
  <block id="d41d8cd98f00b204e9800998ecf8427e" category="doc"></block>
  <block id="c912e5005906fc866b0c65119bf84481" category="summary">准备文件分析</block>
  <block id="c108d80b5cb48ca6e66a2b5bb8516f73" category="paragraph">使用文件分析准备数据迁移。</block>
  <block id="3cc339d965b395a29ad1d863ec861a5d" category="paragraph">文件分析包括以下两部分：</block>
  <block id="b70d91b5913fd8380c0a9855731efca0" category="list-text">在 Linux 上运行的文件分析服务器</block>
  <block id="f9f9338441d9cdf13d8591c29e099cf5" category="list-text">在 Windows 上运行的 XCP SMB 服务</block>
  <block id="5c467f28cb79c0e954f4435341917273" category="paragraph">文件分析安装具有以下要求：</block>
  <block id="2df5d96cd561be191acf7a967d1b2f7d" category="list-text">支持的操作系统和系统要求与为 NFS 和 SMB 安装提供的要求相同。由于数据库将驻留在 Linux 机箱上，因此您必须确保至少有 10 GB 的可用空间。</block>
  <block id="70f3eca25e003193af754baffcc4fa1e" category="list-text">安装文件分析服务器的 Linux 计算机必须连接到 Internet 或 yum 存储库。安装脚本将与 yum 存储库进行通信，以下载所需的软件包，例如 PostgreSQL ， HTTP 和 SSL 。</block>
  <block id="b3bcd58589083180ea4c797047da5ef1" category="list-text">文件分析 GUI 只能与在同一机箱上运行的 Linux XCP 服务一起托管在 Linux 计算机上。</block>
  <block id="fe4803d353dc5eef03c8d5fba4e56832" category="list-text">要运行 SMB 服务，请完成以下步骤：</block>
  <block id="5ffd3eba47f3a2d193ecbbaeb0f91a37" category="list-text">验证 Windows 框是否可以对运行文件分析服务器的 Linux 计算机执行 ping 操作。</block>
  <block id="153fa6c8551e03c7ac2761ba8a14766b" category="list-text">如果您位于防火墙内，请验证端口 5030 和 5432 是否已打开。端口 5030 用于向 Windows 发出 REST 调用。端口 5432 端口用于 PostgreSQL 连接。</block>
  <block id="d7f645dd7cd8e403d60c9483f4961bfe" category="admonition">XCP 文件分析服务器始终在 Linux 计算机上运行。SMB 文件分析没有单独安装。如果您是 Windows 用户，并且希望对 SMB 共享运行文件分析，则必须安装适用于 Linux 的文件分析并将 Windows Box 连接到 Linux 数据库。如果您仅使用 XCP 文件分析，则无需为 NFS 配置 XCP 目录。</block>
  <block id="e11089d4b0b741fa37d3bde7e9ece13f" category="summary">为 XCP SMB 准备 Windows</block>
  <block id="66f9acc1b514e86b97784fe390326ce3" category="paragraph">XCP SMB 使用 Windows 客户端主机系统生成并行 I/O 流，并充分利用可用的网络和存储性能。</block>
  <block id="d25223f4065ca21361aff2e7cdc61203" category="section-title">配置存储</block>
  <block id="c8fe60bf1229083e3bb54f5366226e26" category="paragraph">XCP SMB 过渡和迁移具有以下用户登录要求：</block>
  <block id="543905c9e8d793e24798d62739fd285b" category="list-text">将迁移或 XCP 主机用户添加到 Active Directory 的审核和安全日志策略中。要在 Windows 10 上查找 " 管理审核和安全日志 " 策略，请执行以下步骤：</block>
  <block id="efaadd4be852741a24b28d66addf7e17" category="list-text">打开 * 组策略编辑器 * 对话框。</block>
  <block id="58f61041ffa1d14e245af8a57dce1c48" category="list-text">转至 * 计算机配置 &gt; Windows 设置 &gt; 安全设置 &gt; 本地策略 &gt; 用户权限分配 * 。</block>
  <block id="66b0c244cc406f3e1c6f34b6693be565" category="list-text">要添加 XCP 主机用户，请选择 * 添加用户或组 * 。</block>
  <block id="4ba21fa3f242b755c406321b6aa530de" category="inline-link-macro">管理审核和安全日志</block>
  <block id="c96fce632e7aa3e5167dff9fa88131e9" category="paragraph">有关详细信息，请参见 <block ref="d3422bfee6b881948e1c2336b81fe843" category="inline-link-macro-rx"></block>。</block>
  <block id="130be40193e820f08bf4f1d1d3997f1d" category="list-text">目标存储系统： XCP 主机用户必须具有读写访问权限。</block>
  <block id="7afc4c7d5e96a2848efc22152106e0c8" category="list-text">源存储系统：</block>
  <block id="386165b259b8ebc30679e32e675a4a0e" category="list-text">如果用户属于源存储系统中的 " 备份操作员 " 组，则该组的成员可以在绕过安全规则的情况下读取文件，而不管这些文件是否具有任何保护权限。</block>
  <block id="d3b52487fdbf549de1321bb2c9d8fba5" category="list-text">如果用户不属于源系统中的 " 备份操作员 " 组，则用户必须具有读取访问权限。</block>
  <block id="b05845bd260a96228d4d5ff877126cfd" category="admonition">要支持 XCP 选项 ` - preserve-atime` ，需要在源存储系统中具有写入权限。</block>
  <block id="6a5ff98f1029ddc23bd3537c5e16785f" category="summary">规划 NFS 数据迁移</block>
  <block id="963344c97166a9491696af9417e60eed" category="doc">规划 NFS 数据迁移</block>
  <block id="2d3f0225db2a5974e9dd3efa2510ede8" category="paragraph">规划 NFS 数据迁移。</block>
  <block id="498f79c4c5bbde77f1bceb6c86fd0f6d" category="section-title">-show</block>
  <block id="36b1ac7befb0a4a2aafb2840c1654f80" category="list-text">`XCP show &lt; NFS 文件服务器 IP/FQDN&gt;`</block>
  <block id="4ee7ac9a872eadb3d1f7347270bbfad7" category="list-text">`XCP 显示 nfs_server01.netapp.com`</block>
  <block id="0b38ead8cb81444a18a4c9660907007d" category="paragraph">有关详细信息，请运行 `XCP 帮助显示` 。</block>
  <block id="22efdbe132eabc102306bd7a334fb434" category="section-title">扫描</block>
  <block id="aef9e741ab939722d78e05debc0530f8" category="list-text">`XCP scan nfs_server01.netapp.com:/export1`</block>
  <block id="57e9ab68ece2e80c1dd072f065c05577" category="paragraph">有关详细信息，请运行 `XCP 帮助扫描` 。</block>
  <block id="d966f213346a789643a8dfc71c67068b" category="paragraph">也可以使用文件分析以图形方式查看结果。</block>
  <block id="22d9ce858207febcb08875a117d891c0" category="summary">为 XCP NFS 和 SMB 记录日志</block>
  <block id="673a73278d9e0a66d2a33d82f445c019" category="doc">NFS 和 SMB 的日志记录（可选）</block>
  <block id="ca6b5876ba3731010dbd6ce4f943f163" category="paragraph">为 XCP NFS 和 SMB 记录日志。</block>
  <block id="3b940044f58b92869d13d3035d6d408a" category="list-text">事件日志消息</block>
  <block id="104f1c80c37455f2c0587b79cd313366" category="list-text">XCP 的系统日志客户端</block>
  <block id="1a6697e218dc4aeea5fe509dd25c7350" category="list-text">自定义 XCP 日志记录</block>
  <block id="2340c9c9c838d4ea774f1fb441121071" category="paragraph">在默认配置中，事件日志消息和系统日志客户端处于禁用状态。配置对于 NFS 和 SMB 都是通用的。</block>
  <block id="9f924c606c08d53acc8be948e2d95d3b" category="cell">配置 JSON 文件位置</block>
  <block id="1d1a594959ec615f56516f5d0f5e8ddb" category="cell">NFS</block>
  <block id="b4fdd997b1f33e0d4c6964444c2bf399" category="cell">SMB</block>
  <block id="c1b0c424171af08d39846b8629a610e7" category="cell">配置文件默认位置</block>
  <block id="0c8468e8bc6e9c8ce8e4de412fee0c10" category="cell">/opt/netapp/xFiles/XCP/</block>
  <block id="0355e9d1594e3a57c3f88a95ae90e7b7" category="cell">C ： \NetApp\XCP\ConfigFile</block>
  <block id="688880844a9d73f7e3cf8f7c8f2f1da6" category="cell">自定义位置需要 `XCP_config_DIR` 环境变量</block>
  <block id="382b0f5185773fa0f67a8ed8056c7759" category="cell">不适用</block>
  <block id="c71c45be8ac72499222cb1690d308dde" category="paragraph">JSON 配置文件选项区分大小写。这些选项对于 XCP NFS 和 XCP SMB 是相同的。</block>
  <block id="7a1920d61156abc05a60135aefe8bc67" category="cell">Default</block>
  <block id="b5a7adde1af5c87d7fd797b6245c2a39" category="cell">Description</block>
  <block id="46c887ae3ff675fe00072fa1a620b410" category="cell">logconfig</block>
  <block id="0b368cc0d6bc566655b58b9e30ac8288" category="cell">用于自定义 XCP 日志记录的选项。</block>
  <block id="7de270fea2fc6dad4fffb1435cbc3c55" category="cell">level</block>
  <block id="27118326006d3829667a400ad23d5d98" category="cell">string</block>
  <block id="551b723eafd6a31d444fcb2f5920fbd3" category="cell">信息</block>
  <block id="4fde349406f5c210ab92e5c2143bb06b" category="cell">日志消息严重性筛选级别。XCP 日志消息按严重性降低的顺序支持五个严重性级别：严重，错误，警告，信息，调试（ NetApp 强烈建议使用 info 或 debug ）</block>
  <block id="8fe45724da2b38fc1d814f7aa2e361f2" category="cell">"maxBytes"</block>
  <block id="a0faef0851b4294c06f2b94bb1cb2044" category="cell">整型</block>
  <block id="ec6d8e20e66fd6aeb73c064140fdbe16" category="cell">52428800</block>
  <block id="52ef09ffeae8c8d17a3db6c4c6a0244a" category="cell">每个旋转日志文件的大小。最多支持 10 个轮换文件。</block>
  <block id="ae3c7435f2c81037ac59d1f58fc20d8a" category="cell">name</block>
  <block id="4bfa73c989008743279ae857adc50faf" category="cell">xcp.log</block>
  <block id="28f328b3eb2db5bcec48bce6f4f72705" category="cell">用于设置自定义日志文件名称的选项。</block>
  <block id="f47a66a903b4f64e00e9a1aa9bee17a7" category="cell">EventLog</block>
  <block id="20ab83e9c44385a5def0f5f96df46ee0" category="cell">用于配置事件日志消息的选项。</block>
  <block id="bb536b68b59577558f9363f7eaa5ed97" category="cell">" 已启用 "</block>
  <block id="27226c864bac7454a8504f8edb15d95b" category="cell">布尔值</block>
  <block id="68934a3e9455fa72420237eb05902327" category="cell">false</block>
  <block id="c6801972780d22a01c49d964fe8af351" category="cell">此布尔选项用于启用事件消息传送。如果将其设置为 `false` ，则不会生成任何事件消息，也不会将任何事件日志发布到事件日志文件中。</block>
  <block id="be81356ee8695f2cfba9646b3b338090" category="cell">事件消息严重性筛选级别。事件消息支持按严重性降低的顺序排列的五个严重性级别：严重，错误，警告，信息，调试</block>
  <block id="098181024c2e968b16b5cf85107c1b7e" category="cell">系统日志</block>
  <block id="c3d87898d0b02937967287a208a2ae0a" category="cell">用于配置系统日志消息的选项。</block>
  <block id="8e313d0a8b38bd81563ab5684229b838" category="cell">此布尔选项用于在 XCP 中启用系统日志客户端。</block>
  <block id="ee7aec01489d45038ddfbeb6ede313e1" category="cell">消息严重性筛选级别。XCP 事件日志消息按严重性降低的顺序支持五个严重性级别：严重，错误，警告，信息，调试</block>
  <block id="5d72da30a65589cbf8a1f844a7fb8d0a" category="cell">" 服务器 ip"</block>
  <block id="6adf97f83acf6453d4a6a4b1070f3754" category="cell">无</block>
  <block id="961704177adf0b6fb8de38720ed27225" category="cell">远程系统日志服务器 IP 地址或主机名。</block>
  <block id="9492da74b601c63f971198ae7a09ce53" category="cell">port</block>
  <block id="59b90e1005a220e2ebc542eb9d950b1e" category="cell">514.</block>
  <block id="41f37150ac650751da15e41867b2ef3e" category="cell">远程系统日志接收器端口。可以使用端口选项 UDP 端口 514 配置接受其他端口上的系统日志数据报的系统日志接收器，但也可以配置到所需端口。</block>
  <block id="21511790461e29cd622923924f215edb" category="cell">" 清理 "</block>
  <block id="5d53d5891d91acf4824c28550023ec23" category="summary">安装或升级适用于 SMB 的文件分析</block>
  <block id="e9815aad4b6c2855f398a9360208dd65" category="doc">安装适用于 SMB 的文件分析</block>
  <block id="6a6947b743abcf4f9aaa1664bb88feba" category="paragraph">安装或升级适用于 SMB 的文件分析。</block>
  <block id="4501bedf7a80968ef55dd21ff51af4a3" category="inline-link-macro">安装 XCP SMB</block>
  <block id="28f1937a3cc3eb0d6912c14361aae86a" category="paragraph">有关 SMB 的系统要求，请参见 <block ref="b1b298f808db7e093ee9abb7cc8bfdef" category="inline-link-macro-rx"></block>。</block>
  <block id="e5e58d5cdf81973c4955d5ea6aede873" category="list-text">要使用 XCP SMB 服务，必须在 Linux 计算机上为 NFS 配置 XCP 文件分析。</block>
  <block id="1a192e854cfe5d8168d0d05ae2e502e3" category="list-text">在 Windows 计算机上开始配置 XCP 文件分析之前，请确保 XCP 服务正在 Linux 计算机上运行。</block>
  <block id="b62051beb7fd4a143b6c815f0754ce91" category="section-title">全新安装适用于 SMB 的文件分析</block>
  <block id="8d61f5ee9cebc1323e4406cd9c74bee3" category="paragraph">要对 SMB 执行文件分析全新安装，请完成以下步骤。</block>
  <block id="22e274a44bf3a069c4f201b0e827b460" category="inline-link-macro">XCP 站点</block>
  <block id="36cc7dd1df7adb145df0ee9cebe250c5" category="list-text">从下载 XCP 许可证文件 <block ref="f33ccbb3083b14f48de92a286ba83724" category="inline-link-macro-rx"></block>。</block>
  <block id="6bbb03e83c8f1500cacb227482558dd0" category="list-text">创建文件夹 `C ： \\NetApp\XCP` 并将 XCP 许可证复制到此位置。</block>
  <block id="f9a7c45c2f9e869ce9359173c559dd03" category="list-text">在命令提示符处使用以下命令激活 XCP 许可证： `xcp.exe activate`</block>
  <block id="ad50f79627822b073378935381e28b0a" category="list-text">在 Windows 命令行界面命令提示符中，运行 `XCP configure` 。</block>
  <block id="34a5eb12a40f3a927cd1680032a68a8c" category="list-text">出现提示时，提供配置 XCP 文件分析服务器的 Linux 计算机的 IP 地址。</block>
  <block id="55b7006f6e8a19f0555a6b82ca85a801" category="section-title">升级 SMB 文件分析</block>
  <block id="1688d86172caf9b3ed1acabe15285a4f" category="paragraph">要升级适用于 SMB 的现有文件分析，请完成以下步骤。</block>
  <block id="a7a81082a60152f2eb36b8d78016b292" category="list-text">在 Windows 中，通过在命令行上输入 `CTRL-C` 来停止现有 XCP 服务。</block>
  <block id="0d0094c10f5e227325ec13a4c60c79be" category="summary">对 XCP 文件分析错误进行故障排除</block>
  <block id="58e03a88cb823040213d29590e0a1342" category="doc">对 XCP 文件分析错误进行故障排除</block>
  <block id="2df6366012c9e039186e09dd0f83bf9c" category="paragraph">查看用于对问题描述进行故障排除的解决方案。</block>
  <block id="642facf67e0ad311eee88b3ab8381590" category="cell">问题描述</block>
  <block id="49b21ad0d38942f635877e7bbc5d7a1e" category="cell">解决方案</block>
  <block id="0e0e0acc1a9ea0d43a111a880b5dd1bc" category="paragraph">再次运行 configure 并选择安装选项。如果上次安装成功，则可以选择修复选项。如果仍收到此错误，请按如下所示尝试手动步骤：</block>
  <block id="a5472293a9f24af00475781ccf23bd48" category="list-text">重新启动 HTTPD 服务：</block>
  <block id="472e5e5ac349331523960cd6d0d4fef7" category="paragraph">`sudo systemctl restart httpd`</block>
  <block id="2113faff27761298b76e18e9d9dc0831" category="cell">安装成功后，无法打开登录页面</block>
  <block id="c5dcd35af16918a17ee9c3a5c153f0af" category="inline-link-macro">IMT</block>
  <block id="d50784b3674870554d4c3159c77d15ea" category="cell">用户登录失败</block>
  <block id="688ed7a6a60fc5e2ea7b8d685b953cbb" category="list-text">验证 Linux 上的端口 5030 是否已打开。打开应用程序： * https ： // &lt;Linux IP&gt; ： 5030/API/XCP* ，并确认消息消息消息消息消息消息： `mising Authorization Header` 。</block>
  <block id="29ce56cd9d307b3514653e8cae7e2c23" category="list-text">检查 `xcp.ini` 文件是否位于 ` /opt/netapp/xFiles/XCP/` 位置。要重置 `xcp.ini` 文件，请运行配置脚本并选择 * 修复 * 选项。接下来，选择菜单选项以 * 重建 xcp.ini 文件 * 。</block>
  <block id="05f335661b9a8df951162cb0258c7f5c" category="list-text">在命令行界面上手动运行 `XCP -listen` 命令，然后尝试登录。如果您未在服务器上收到请求，请重新检查安装情况以及用于与服务器通信的端口。`s安装是否正确后，运行` service XCP start 命令重新启动服务。</block>
  <block id="a04f96b6db4b60427c763eb51cfd126b" category="cell">XCP 服务未启动</block>
  <block id="53c1fcfaeeade0d937642ef92edcea52" category="cell">要运行 `XCP` 服务，请使用 `sudo systemctl start XCP` 命令。或者，运行配置脚本并选择 * 修复 * 选项以启动已停止的服务。</block>
  <block id="00d88d85f86cfc3fd42467a045938e04" category="cell">无法扫描文件共享</block>
  <block id="b8ed9da4163768ad065c550427fbbb02" category="cell">无法加载文件服务器</block>
  <block id="f725a02581232d2034f08f5bbb7fd8ac" category="cell">系统重新启动后，不会显示 XCP 文件分析页面</block>
  <block id="0e4a94fc1ebb00022d0693e301596d2d" category="cell">XCP 服务可能已关闭。运行配置脚本并选择 * 修复 * 选项。此操作将重新启动已停止的所有服务。</block>
  <block id="e2d6471d3d51e8bf2d4aa734bd07e4ed" category="cell">与分配的物理存储相比，给定文件服务器上导出的文件系统的总空间可能会显示更多空间。</block>
  <block id="a3100bf3334206028c894a5568ddcf09" category="summary">介绍新增功能，升级说明，已修复的问题，已知限制和已知问题。</block>
  <block id="dbd469acdcbd52648cb242bcfda6add3" category="paragraph">您需要登录到 NetApp 支持站点才能访问发行说明。</block>
  <block id="899cb0fc6e09b056f086b2106c805708" category="summary">安装 XCP SMB</block>
  <block id="8f753e7a8965c7ae386ee6fa22a4b1bf" category="admonition">没有升级选项；请重新安装 XCP 以替换任何现有版本。</block>
  <block id="b9982e4a219c9f069ec01b724fff8274" category="paragraph">* 系统要求 *</block>
  <block id="7d74f3b92b19da5e606d737d339a9679" category="cell">项目</block>
  <block id="9b97b7bd5e0a87be7bf218224ada83cf" category="cell">要求</block>
  <block id="a45da96d0bf6575970f2d27af22be28a" category="cell">系统</block>
  <block id="cf484097e9c1cd5f080006a9a0550714" category="cell">64 位 Intel 或 AMD 服务器，至少 4 个核心和 32 GB RAM</block>
  <block id="0ed45b799d99029a04d945ba2794df83" category="cell">操作系统和软件</block>
  <block id="918d32b75f0ab883abba3a8dc0c3ae8d" category="inline-link-macro">互操作性表工具</block>
  <block id="93c11dfd633dc7108de53aff18c2255b" category="cell">Windows 2012 R2 或更高版本。有关支持的 Microsoft 操作系统版本，请参见 <block ref="1ed2ba1980a264d01ab3597cde177180" category="inline-link-macro-rx"></block>。必须在 XCP 主机上安装 Visual C++ 2017 可重新分发软件包。</block>
  <block id="889e70a278e37320b95f39105b61c0bf" category="cell">特殊要求</block>
  <block id="b8cf6a58b316c2d2246f9d35aa2e8997" category="cell">源存储系统， XCP 主机和目标 ONTAP 系统必须属于同一 Active Directory 域</block>
  <block id="8c4aa541ee911e8d80451ef8cc304806" category="cell">存储</block>
  <block id="4a238c022aa917755e27db83983ade18" category="cell">XCP 二进制文件需要 20 MB 磁盘空间，而 C ： \NetApp\XCP 目录中存储的日志需要至少 50 MB 磁盘空间</block>
  <block id="d31b586de007038e5023c216e62f86b1" category="cell">支持的协议版本</block>
  <block id="4ada655f00526d6808f8340ab758c575" category="cell">所有 SMB 协议版本</block>
  <block id="817c6a5be8297c117096d41d202aff2e" category="cell">支持的浏览器（仅限文件分析）</block>
  <block id="8c7843878f3c9b0f5e771772d6db2dea" category="section-title">XCP SMB Microsoft VC++ 可重新分发安装</block>
  <block id="c54e109937f5c638f4600d450eedcd55" category="paragraph">按照以下步骤安装 vc++ 可重新分发的软件。</block>
  <block id="c4af91562832ae25fbae11e89da4b667" category="inline-link-macro">vc++ 2017 可重新分配</block>
  <block id="6cd22d7c4dadeacb23225ecd72fe717c" category="list-text">单击 <block ref="9ff75fd178d1ad0222e586938703dbfb" category="inline-link-macro-rx"></block> 将可执行文件下载到默认下载文件夹。</block>
  <block id="3c91f49d55f34d3506f638d309f40168" category="section-title">XCP SMB 初始设置操作步骤</block>
  <block id="4db6b4b2c123aa3cd8ad45d8003538bc" category="paragraph">按照以下步骤执行 XCP SMB 的初始设置。</block>
  <block id="a93da960db5c5b4f48c763a05f304371" category="list-text">将许可证复制到新创建的文件夹 `C ： \NetApp\XCP ：`</block>
  <block id="ea6bf0c8de468a8c8d6cf565a16762f0" category="list-text">激活 XCP ：</block>
  <block id="d9a94aeb05c2b97954eebdc3732fc715" category="summary">迁移 NFS 数据</block>
  <block id="5fb63579fc981698f97d55bfecb213ea" category="section-title">复制</block>
  <block id="c26fe677a830587ef1c141567a86c86a" category="paragraph">* 示例： *</block>
  <block id="f1cefec9e2196c672a622347f1fbc325" category="section-title">恢复</block>
  <block id="8ca572f19659e7e1feff3c8dd1401ce1" category="paragraph">`reume` 命令可通过指定目录索引名称或编号来重新启动先前中断的复制操作。先前复制操作的目录索引名称或编号存储在 ` &lt;catalog path&gt; ： /catalog /index` 目录中。</block>
  <block id="d8e87c0927539672f54462c837be0b7f" category="section-title">同步</block>
  <block id="1504bd4779c3c062c9078099fad0ac19" category="paragraph">`sync` 命令可使用目录索引标记名称或先前复制操作的编号扫描对源 NFS 目录执行的更改和修改。源增量更改会复制并应用于目标目录。在同步操作 # 之后，旧目录索引编号将替换为新的目录索引编号（ .下划线 ） # 。</block>
  <block id="5a750f86ef41f22f852c43351e3ff383" category="section-title">验证</block>
  <block id="990d138c681bf32e178b6390caea1423" category="paragraph">执行复制操作后， `verify` 命令会对源目录和目标目录进行完整的逐字节数据比较，而不会使用目录索引编号。命令将检查修改时间以及其他文件或目录属性，包括权限。该命令还会读取两端的文件并比较数据。</block>
  <block id="8c1d67b3b1e3cf97c5f054bf8d66089c" category="summary">规划 SMB 数据迁移</block>
  <block id="f4eb381e275885c806213db1203bf102" category="paragraph">规划 SMB 数据迁移。</block>
  <block id="f7d1ef377db88189a0084ee7d6f1b738" category="paragraph">`show` 命令可显示服务器上所有可用的 SMB 共享以及可用的权限和空间。示例</block>
  <block id="cf4eff19c5c0fb1733f64f4fcc421b87" category="list-text">`XCP show \\&lt;SMB 文件服务器 IP/FQDN&gt;`</block>
  <block id="8b35e2113ce9ad7e63589964e0f33514" category="list-text">`XCP 显示 smb_server01.netapp.com`</block>
  <block id="70cc69758e4efa422fa0bec10f65dffb" category="list-text">`XCP 扫描 \\SMB server\share1`</block>
  <block id="a8386d7454f57e945b9af398be1f740a" category="list-text">`XCP scan smb_server01.netapp.com:/share1`</block>
  <block id="95a35d9399a311a860a23c9c5ca666db" category="summary">安装或升级适用于 NFS 的文件分析</block>
  <block id="acb7eae841bcc60d63918737629eaab5" category="doc">安装 NFS 文件分析</block>
  <block id="65957491431a9d992b0f37939d999254" category="paragraph">安装或升级适用于 NFS 的文件分析。</block>
  <block id="c8d71099d454656d5157731fb1f4830e" category="inline-link-macro">安装 XCP NFS</block>
  <block id="135b308ed83c53f1516b7c754566d1c4" category="list-title">开始之前</block>
  <block id="179301ccc5709fc7e02ecd874b26f686" category="list-text">您的 Linux 计算机必须连接到 Yum 存储库服务器或 Internet 。</block>
  <block id="1c7bd6403e16df46e3e2b614a9e9b462" category="inline-xref-macro">XCP 使用的端口</block>
  <block id="8ebcb6923388924859f2dac1791081e8" category="summary">对 XCP NFS 错误进行故障排除</block>
  <block id="938d4078879782553ee606a9107059ee" category="doc">对 XCP NFS 错误进行故障排除</block>
  <block id="ef8fd37900d2911bb2ff728bb4f9ec8b" category="cell">XCP 问题描述</block>
  <block id="a7cf2676d276e4fe420000595e3443d2" category="cell">`XCP ：错误` ：必须以 root 用户身份运行</block>
  <block id="2a90812fc13c49a77254684c5a3b5cb8" category="cell">以 root 用户身份执行 XCP 命令</block>
  <block id="26170421f8be098bf38a96d89b26cacc" category="cell">`XCP ：错误` ：未找到许可证文件 ` /opt/netapp/xFiles/XCP/license` 。</block>
  <block id="c42217f3ea9a2824b2e6414ca47d28c1" category="cell">`XCP ：错误` ：此许可证已过期</block>
  <block id="fade017532ccd86be0dd06e93349b97a" category="cell">从续订或获取新的 XCP 许可证 <block ref="f33ccbb3083b14f48de92a286ba83724" category="inline-link-macro-rx"></block>。</block>
  <block id="17f5431aa4929b3c834893c75964e33a" category="cell">`XCP ：错误` ：许可证不可读</block>
  <block id="8b7f10b61929bf6cc6b82ba37f75829f" category="cell">许可证文件可能已损坏。从获取新的 XCP 许可证 <block ref="f33ccbb3083b14f48de92a286ba83724" category="inline-link-macro-rx"></block>。</block>
  <block id="9d20189cd3d18c4ec2337d1bd04f00c0" category="cell">`XCP ：错误` ： XCP 未激活，请先运行 " 激活 "</block>
  <block id="74f182aed0adddf0c05034f68c431365" category="cell">运行 `XCP activate` 命令</block>
  <block id="25b9d99744f022a106507715192e88dc" category="cell">此副本未获得许可</block>
  <block id="8ba84afe18c18194743530245f33e6c3" category="cell">获取相应的 XCP 许可证文件。将 XCP 许可证复制到 XCP 服务器上的 ` /opt/NetApp/xFiles/XCP/` 目录。运行 `XCP activate` 命令以激活许可证。</block>
  <block id="b6f8b7e40716598e1e429f8c4ca560c3" category="cell">`XCP ：错误` ：无法激活许可证：服务器无法访问</block>
  <block id="35cabffe4dcfb66c8c5c1abde8d88d79" category="cell">`XCP ：错误` ：无法激活许可证：服务器 xcp.netapp.com 不可访问 `XCP ：提示` ：在此主机上配置 DNS 或返回许可证页面以请求专用许可证预期错误：无法激活许可证：服务器 xcp.netapp.com 不可访问</block>
  <block id="57bb45ee2626c6c9327710db7ad62b16" category="cell">确保可以从主机访问 xcp.netapp.com 或请求脱机许可证</block>
  <block id="2b0923c485796bcf7f70cc9dfebec175" category="cell">`XCP ：错误` ：目录不可访问：无法挂载 `nfs_server ： /export[ ：子目录 ]`</block>
  <block id="59052f213763189d6af354107f6d9550" category="cell">`nfs3 错误 2` ：无此文件或目录</block>
  <block id="e1d14a9642b2578804384063d08b5a1d" category="cell">操作未在目标 NFS 导出上找到源文件。运行 `XCP sync` 命令将增量更新从源复制到目标</block>
  <block id="78e5b69a5a00d7a92919d21e2ba97199" category="cell">`XCP ：错误` ：索引为空或无效</block>
  <block id="c4f538ab4a2a996881ee2390db8a1df5" category="cell">`XCP ：错误` ：比较批处理：子进程失败 ` （退出代码 -9 ）： recv &lt;type 'Exceptions.EOFError"&gt;`</block>
  <block id="49fa9bd2e81eea051a29f8e45c21638b" category="inline-link-macro">同步 NFS 数据时无法分配内存</block>
  <block id="ec1ddb4ca70dcd41f3383467aad4f8c5" category="cell">按照以下知识库文章中的说明进行操作： <block ref="210762096b71656af31c60f1d6e149d7" category="inline-link-macro-rx"></block></block>
  <block id="da4c5f5f94a9c5f96a18793e2ee86c68" category="cell">`XCP ：错误` ：要使 XCP 处理 ACL ，请` 使用 OS nfs4 客户端挂载 `</block>
  <block id="5066b38ab5bf70aafe33712df1d9dab5" category="cell">在迁移期间， xcp `verify` 命令失败。状态显示为 Failed 。（实时）</block>
  <block id="8f5339cfe8b54520bd6b5cb4d972eba7" category="cell">当源处于活动状态时，运行了 XCP `verify` 命令。完成最终转换后，运行 XCP `verify` 命令。</block>
  <block id="62e70645f6409e90524602eafed9306a" category="cell">在转换后， XCP `verify` 命令失败。（实时）</block>
  <block id="abd97a0cc712bae7d2d2c57eef3e5626" category="cell">XCP 转换同步操作可能未复制所有数据。在完成最终转换后，重新运行 XCP `sync` 命令，然后运行 `verify` 命令。如果问题仍然存在，请联系技术支持。</block>
  <block id="592186702b758ab08696afc8d28b9140" category="cell">XCP `sync` 命令失败（此适用场景在迁移期间会发生所有同步失败）。（实时）</block>
  <block id="7c854d835786bed5c18a105db535182c" category="cell">XCP 无法读取数据，这可能是由于 XCP 问题描述造成的。命令操作完成后，请检查 XCP 状态消息。重新运行 `sync` 命令。如果同步操作再次失败，请联系技术支持。</block>
  <block id="c2b31ba0b0b414a421fcf40b6f54a893" category="cell">由于内存不足， XCP `copy` ， `reresume` 和 `sync` 命令失败。XCP 崩溃， XCP 状态显示为 Failed 。（实时）</block>
  <block id="fd276b4247c01ade132cbdd748bef2d4" category="cell">主机上的可用内存不足或发生了巨大的增量更改。按照以下知识库文章中的说明进行操作： <block ref="210762096b71656af31c60f1d6e149d7" category="inline-link-macro-rx"></block></block>
  <block id="48c8358f8ec93d53dce102ada3542d9a" category="summary">为 XCP NFS 准备 Linux</block>
  <block id="b60567959313ad04bc597ac1c76b3d78" category="paragraph">XCP NFS 使用 Linux 客户端主机系统生成并行 I/O 流，并充分利用可用的网络和存储性能。</block>
  <block id="2ff3c45412179560786cd7233c267e67" category="section-title">配置目录</block>
  <block id="57af563c0eacc9d9ac7d1c28bf2f9a11" category="paragraph">XCP NFS 过渡和迁移具有以下源和目标存储要求：</block>
  <block id="2cb211d6d9065080871b03dc58cc2f5f" category="summary">迁移 SMB 数据</block>
  <block id="28f2900c35a6a416b39cb9a71b13649a" category="paragraph">`copy` 命令可扫描整个源目录结构并将其复制到目标 SMB 共享。`copy` 命令要求源路径和目标路径均为变量。扫描和复制的文件，吞吐量 / 速度和已用时间详细信息每五秒打印一次到控制台。</block>
  <block id="40fa419bffb820819ac71ba039348155" category="paragraph">`sync` 命令可并行扫描源共享和目标共享中的更改和修改，并对目标应用相应的操作（删除，修改，重命名等），以确保目标与源相同。</block>
  <block id="bb7e8df484499f0f598a871fa277086a" category="paragraph">sync 命令可比较数据内容，时间戳，文件属性，所有权和安全信息。</block>
  <block id="53ab8108c26b577654ebb4cf27404e03" category="paragraph">使用 `verify` 命令可读取源共享和目标共享并对其进行比较，从而提供有关不同之处的信息。无论使用哪种工具执行复制或同步，您都可以在任何源和目标上使用命令。</block>
  <block id="26bddf6d4b393b265322f78d679e9266" category="summary">规划数据迁移</block>
  <block id="a045552c7614c121b614d5387d1d7e15" category="paragraph">您可以使用命令行界面或文件分析图形用户界面规划迁移。</block>
  <block id="8e20ba8fac66fab3c2a4d90a2d702810" category="paragraph">使用以下命令规划迁移：</block>
  <block id="73035bb0e9219012f810f55b99b44088" category="paragraph">使用文件分析以可视化方式显示导出和共享的统计信息。</block>
  <block id="2bcb9e91d9726432ada974afa56bdf0f" category="summary">XCP 提供了可在 XCP 操作中使用的筛选器选项</block>
  <block id="f3f43e30c8c7d78c6ac0173515e57a00" category="doc">筛选器</block>
  <block id="8f8313770d08b6de4fc9f26ab9cb702f" category="paragraph">XCP 提供了可在 XCP 操作中使用的筛选器选项。</block>
  <block id="afe701d93422db60552b47d48ae873a8" category="paragraph">XCP 会对 NFS 和 SMB 的 ` 匹配` 和 ` 排除` 选项使用筛选器。</block>
  <block id="8d0ffbdcda54546120df81be2fa7517a" category="paragraph">对于 NFS ，请运行 `XCP 帮助信息` 并参阅筛选器部分，了解如何使用 ` 匹配` 和 ` - 排除` 筛选器。</block>
  <block id="8b8bd82846902c55d97040e4cf92d530" category="paragraph">对于 SMB ，请运行 `XCP help -match` 和 `XCP help -exclude` 以获取有关 `match` 和 `exclude` 筛选器的更多详细信息。</block>
  <block id="2c64852df0b21e99d0d0ef1cc5b8c6a9" category="paragraph">如果要在 XCP 命令中使用筛选器，请运行 `XCP help &lt;command&gt;` 以查看它们是否为受支持的选项。</block>
  <block id="1718dc53be562ce70afa56df4e40aac0" category="summary">性能调整（仅限 NFS ）</block>
  <block id="afc140e7771a565b91190eb36ffe4d87" category="summary">运行扫描</block>
  <block id="924efb8414fbca05d721d87cd806d298" category="doc">运行扫描</block>
  <block id="04ec2acd5a3aa521b572bd5eda28b826" category="paragraph">将 NFS/SMB 文件系统添加到 XCP 文件分析图形用户界面后，您可以启动文件系统扫描来分析和表示数据。</block>
  <block id="1cecb0486bf5cf6a9a63507c660cd03d" category="inline-image-macro">查看文件共享图像</block>
  <block id="b368c6bc5323e94824365fcd21553663" category="paragraph"><block ref="b368c6bc5323e94824365fcd21553663" category="inline-image-macro-rx" type="image"></block></block>
  <block id="b95cc160a68eb624b2033f60040386e7" category="paragraph">XCP 将显示扫描的进度条。</block>
  <block id="82ba8d2b1fd827ef3a66da623896394d" category="list-text">扫描完成后，系统将启用 * 统计视图 * 和 * 文件分发 * 选项卡，以允许您查看图形。</block>
  <block id="8cb4643cf2374b32d80ce75e3493df62" category="inline-image-macro">扫描完整映像</block>
  <block id="5481411c2f0b781c17731517d05610e9" category="paragraph"><block ref="5481411c2f0b781c17731517d05610e9" category="inline-image-macro-rx" type="image"></block></block>
  <block id="578292ac4c697ed21db0d31cd1b8d3ff" category="section-title">了解图形</block>
  <block id="39608788b7b36c2f24675d36d0d20850" category="paragraph">文件分析 GUI 信息板显示多个图形，用于直观地显示文件分析。</block>
  <block id="c2f26c95cfc4acebceea5957c8a8a752" category="section-title">热冷计数图</block>
  <block id="b3f8792258261524437e0929fe8e22e4" category="paragraph">XCP 文件分析将 90 天内未访问的文件归类为冷数据。过去 90 天访问的文件是热数据。定义热数据和冷数据的标准仅基于访问时间。</block>
  <block id="2c2c76e5815c000443540d6efdea0ba8" category="paragraph"><block ref="2c2c76e5815c000443540d6efdea0ba8" category="inline-image-macro-rx" type="image"></block></block>
  <block id="be3d2877d7f6edf47d2da23d6f6c8031" category="paragraph">" 热冷计数 " 图显示了 XCP NFS 中热或冷的索引节点数（以百万为单位）。在 XCP SMB 中，此图表示热文件或冷文件的数量。彩色条表示热数据，并显示在 90 天内访问的文件的百分比。</block>
  <block id="17c63d1f020c7412781d86986eed8055" category="section-title">冷热大小图</block>
  <block id="803438978ac0bd7226bbc14c201c1883" category="paragraph"><block ref="803438978ac0bd7226bbc14c201c1883" category="inline-image-macro-rx" type="image"></block></block>
  <block id="adc81e9a8e68bc65823bf41d7802ccd6" category="paragraph">冷热大小图显示冷热文件的百分比以及每个类别中文件的总大小。彩色条表示热数据，非彩色部分表示冷数据。定义热数据和冷数据的标准仅基于访问时间。</block>
  <block id="75ec650e18b56587d103526c6f285389" category="section-title">目录图形中的条目</block>
  <block id="63cedfead7c2fe0e3d24cb3ea85abade" category="paragraph"><block ref="63cedfead7c2fe0e3d24cb3ea85abade" category="inline-image-macro-rx" type="image"></block></block>
  <block id="bba91ad230be48b115fc168dfb610f64" category="paragraph">目录图形中的条目显示目录中的条目数。depth 列包含不同的目录大小， Count 列指示每个目录深度中的条目数。</block>
  <block id="c630cd9b8f04779bd25dfbe8198e7ce6" category="section-title">按大小分布的文件图</block>
  <block id="5af5be8a1541747b8173130604ea730d" category="paragraph"><block ref="5af5be8a1541747b8173130604ea730d" category="inline-image-macro-rx" type="image"></block></block>
  <block id="a8030ab19614e27516c45e14ba3c9975" category="paragraph">" 按大小分布的文件 " 图显示给定文件大小下的文件数。" 文件大小 " 列包含文件大小的类别， " 计数 " 列指示文件数的分布情况。</block>
  <block id="9260704cc7742c419f81c523b6635c4f" category="section-title">目录深度图</block>
  <block id="53b83b73ad45cdc6d6960281f0312183" category="paragraph"><block ref="53b83b73ad45cdc6d6960281f0312183" category="inline-image-macro-rx" type="image"></block></block>
  <block id="6d29a1bbbf5fe7fafaad6cae566b6371" category="paragraph">目录深度图表示目录数在不同目录深度范围内的分布情况。depth 列包含各种目录深度， Count 列包含文件共享中每个目录深度的计数。</block>
  <block id="d6c7f8633a0d831e9a6f8e1044857021" category="section-title">大小图形使用的文件空间</block>
  <block id="2c1a908e204d8e572f6be0f64d83c276" category="paragraph"><block ref="2c1a908e204d8e572f6be0f64d83c276" category="inline-image-macro-rx" type="image"></block></block>
  <block id="a4cebdf729f43c76aed8d623b84ccfc6" category="paragraph">大小所用文件空间图显示了不同文件大小范围内的文件数。文件大小列包含不同的文件大小范围，已用空间列指示每个文件大小范围使用的空间。</block>
  <block id="9874b535d02c22338e735da89ffc88f4" category="section-title">用户占用的空间图形</block>
  <block id="1d3988bae5f6ae9e0787e5c724fe57f5" category="paragraph"><block ref="1d3988bae5f6ae9e0787e5c724fe57f5" category="inline-image-macro-rx" type="image"></block></block>
  <block id="e9f26e76bb6ef3ae1813e1df1d8cc8e2" category="paragraph">用户占用的空间图显示用户使用的空间。Username 列包含用户名（无法检索用户名时为 UID ）， Space Used 列指示每个用户名使用的空间。</block>
  <block id="41d6dafcb16f845ca70e42044e5de0dc" category="section-title">已访问 / 修改 / 创建的文件图形</block>
  <block id="ffe6eca8066769d129ed82d6dacd94c9" category="paragraph"><block ref="ffe6eca8066769d129ed82d6dacd94c9" category="inline-image-macro-rx" type="image"></block></block>
  <block id="58ef3ad87f99012fe52ae141775b7f98" category="admonition">要获取 SMB 扫描中的访问时间（ atime ）图，请选中在运行扫描之前保留 atime 复选框。</block>
  <block id="f3903eed8d82fea3de1576f67505c364" category="section-title">按扩展名分布的文件图形</block>
  <block id="b6bb426f627b924dfa93dab5250445ea" category="paragraph"><block ref="b6bb426f627b924dfa93dab5250445ea" category="inline-image-macro-rx" type="image"></block></block>
  <block id="3fad104b85921f1e24dcf1bdded4ece7" category="paragraph">按扩展名分布的文件图表示文件共享中不同文件扩展名的计数。表示扩展名的分区大小取决于每个扩展名包含的文件数。</block>
  <block id="7205155ddc84a3940ada53155c2b1218" category="section-title">按类型分布的文件图形</block>
  <block id="7a7727dad2bdb494aa0830c3cc046e87" category="paragraph"><block ref="7a7727dad2bdb494aa0830c3cc046e87" category="inline-image-macro-rx" type="image"></block></block>
  <block id="789ce5d1059bef030025a853ffb95e49" category="paragraph">按类型分布图表示以下类型的文件数：</block>
  <block id="5aed9994fb25d3562e0d606c1e321b4e" category="list-text">reg ：常规文件</block>
  <block id="98b4f842034dad12db4a252c8d9f6264" category="list-text">LNK ：包含链接的文件</block>
  <block id="14caca2b86bb5fc70d438c3f2e6b9d34" category="list-text">特殊功能：包含设备文件和字符文件的文件。</block>
  <block id="b7e264825d0167b0353f88e4a931eff9" category="list-text">dir ：包含目录的文件</block>
  <block id="04469d5cc45573e655231acc341bf212" category="list-text">接合：仅适用于 SMB</block>
  <block id="c3a8cc04b10d225329206c08b5a0ebfd" category="summary">添加文件服务器</block>
  <block id="0560ad7866ecc9115ae23021d424dbdf" category="doc">添加文件服务器</block>
  <block id="3e0daed933c6a91aa6201ad2331ba049" category="paragraph">您可以在 XCP 文件分析 GUI 中配置 NFS 和 SMB 导出的文件系统。</block>
  <block id="fe22d3343ef5ef3576fd3a8c614d783c" category="paragraph">这样， XCP 文件分析便可扫描和分析文件系统上的数据。按照以下步骤添加 NFS 或 SMB 文件服务器。</block>
  <block id="48c7c41b72e1d678923ce3571aa65b2d" category="list-title">步骤</block>
  <block id="78598b64a689474ac10ec7f8c0697abb" category="inline-image-macro">添加文件服务器屏幕</block>
  <block id="503b4be5b956ea211b0169f48e7b4f8b" category="paragraph"><block ref="503b4be5b956ea211b0169f48e7b4f8b" category="inline-image-macro-rx" type="image"></block></block>
  <block id="32db9210762a9969d936f00071f3d4fb" category="paragraph">添加文件服务器 IP 地址，选择 NFS 或 SMB 选项，然后单击 * 添加 * 。</block>
  <block id="ba2d1403f0906196dafde90080678a7d" category="admonition">如果 SMB 代理在图形用户界面中不可见，您将无法添加 SMB 服务器。</block>
  <block id="5ef4a9ab3fc5fdc69d00d1aad25b070e" category="paragraph">添加文件服务器后， XCP 将显示：</block>
  <block id="2f2a2a1e65d719301baad1fe95911821" category="list-text">可用文件共享总数</block>
  <block id="cc68875b40a33bf431aa4f50ff6e45e7" category="list-text">包含分析数据的文件共享（初始计数为 "0" ，在您成功运行扫描时会更新）</block>
  <block id="c5b1c7ee80adba42369f15084cf61584" category="list-text">总空间利用率—所有导出已利用的空间之和</block>
  <block id="42d8bc5b4338686330beecb0f442e5ed" category="list-text">文件共享和空间利用率数据是直接从 NFS/SMB 服务器获取的实时数据。收集和处理数据需要几秒钟的时间。</block>
  <block id="bfd7e7441d439b9d3b393b79102dd4c1" category="admonition">文件分析中的可用空间与已用空间是根据通过 NFS 提供的每个导出文件系统计算得出的。例如，如果卷包含 qtree ，并且导出是通过 qtree 创建的，则总空间为卷大小和 qtree 大小的累积空间。</block>
  <block id="23f08f66a8c926598f110a30ea423fdb" category="summary">文件分析提供扫描结果的图形视图</block>
  <block id="f0d39ea007ba94b40e0daf5ae44f9298" category="doc">访问文件分析</block>
  <block id="c2fe5fdcb3117ff21509e23d6dfca2de" category="paragraph">文件分析提供扫描结果的图形视图。</block>
  <block id="471ff51c89daf6e35e8e2b5111039744" category="inline-link-macro">NetApp IMT</block>
  <block id="ae12aa4d83d4e71d628b8ca5184b9d66" category="admonition">要检查访问文件分析所支持的浏览器，请参见 <block ref="dff6889ed90b9930dbb6c11bc90c8854" category="inline-link-macro-rx"></block>。</block>
  <block id="42f425824cc531c78175d67346f8f124" category="list-text">使用链接 ` \https://&lt;IP address of Linux machine&gt;/XCP` 访问文件分析图形用户界面。出现提示时，接受安全证书：</block>
  <block id="2ffe186b43f4d120ec24b17fcb23452a" category="inline-image-macro">XCP 文件分析登录屏幕</block>
  <block id="289a5bc6b34705c66837c45715417ecd" category="paragraph"><block ref="289a5bc6b34705c66837c45715417ecd" category="inline-image-macro-rx" type="image"></block></block>
  <block id="dcc65cd71fd805adc9f9914a4cf41d78" category="list-text">如果您已配置 SMB 代理，则可以看到在同一代理卡中添加了 SMB 代理。</block>
  <block id="bb77d5af0a3f42f7c393fe3289f4a3a1" category="summary">NetApp XCP 支持可扩展的高性能数据迁移</block>
  <block id="3bacc52d746ebb26cd58025acaa37785" category="doc">开始使用 XCP</block>
  <block id="125d45c840d79c5bfc630e1ff6268152" category="section-title">了解 XCP</block>
  <block id="6f1f152483ea52658f15cd3a0974f0a0" category="paragraph">使用适用于 NFS 或 SMB 系统的 XCP 作为以下解决方案之一：</block>
  <block id="3ef32fc3b6780a4fdf91e306a592d1cc" category="list-text">迁移解决方案</block>
  <block id="94249fa72ae331c87efdfcc0d0a58301" category="list-text">文件分析解决方案</block>
  <block id="39a01943bc4d2456c4a9d4b49615b5a6" category="paragraph">XCP 是一个可支持 NFS 和 SMB 协议的软件包，提供命令行软件。XCP 可用作 NFS 数据集的 Linux 二进制文件，也可用作 SMB 数据集的 Windows 可执行文件。</block>
  <block id="4caac5123b74a07486a3cad036087629" category="paragraph">XCP 文件分析是一款基于主机的软件，可检测文件共享，对文件系统运行扫描并提供用于文件分析的信息板。XCP 文件分析适用于 NetApp 和第三方系统，并在 Linux 或 Windows 主机上运行，以便为 NFS 和 SMB 导出的文件系统提供分析。文件分析 GUI 的二进制文件包含在支持 NFS 和 SMB 协议的单个软件包中。</block>
  <block id="ec917fe4e8dc966f4e86bc23b900d1f7" category="paragraph">XCP 命令行界面功能强大。有关详细信息，请从上下载 _XCP 参考 _ <block ref="f33ccbb3083b14f48de92a286ba83724" category="inline-link-macro-rx"></block>。</block>
  <block id="47ca0a0313826f8c52db360f0b126339" category="paragraph">* XCP 工作流 *</block>
  <block id="cb86540892d12e21880b91e51aae8225" category="inline-image-macro">XCP 工作流图</block>
  <block id="33fed185b714f317f622abebb7d8d09e" category="paragraph"><block ref="33fed185b714f317f622abebb7d8d09e" category="inline-image-macro-rx" type="image"></block></block>
  <block id="c40f016d6141c65a8e7a7ea0b5573496" category="section-title">不支持的功能</block>
  <block id="176653f59747c11963ac42478984763c" category="paragraph">XCP NFS 不支持以下功能：</block>
  <block id="ba719bfda7676bf7a3de102a56d5b709" category="cell">功能名称</block>
  <block id="fdb7cb8f657426e7c409bfd6d1a36ce4" category="cell">IPv6</block>
  <block id="6a9c8c643c2aa2f9637fc774313525ff" category="cell">不支持 IP 版本 6 （ IPv6 ）</block>
  <block id="c7bf2265b981e33062858c4abf1ea290" category="cell">不支持第三方到 NetApp NFSv4 ACL</block>
  <block id="577d13f7684f9c1dad51523d52a28bf9" category="paragraph">XCP SMB 不支持以下功能：</block>
  <block id="938afd21cb8a9e8f4fedcfb890dd244f" category="cell">NFS 符号链接（ symlink ）</block>
  <block id="1645c787b92316670d1a71b780ece8d5" category="cell">XCP SMB 不支持 NFS 符号链接</block>
  <block id="0b3fd979e0d4902fd7e38deb4745c1a2" category="cell">用于扫描的 ACL 选项</block>
  <block id="d96217bc0f4d5233c2c5639e16dc5d01" category="cell">扫描选项不支持 ACL</block>
  <block id="f4915fbc2a7713a0eeea8adce10091de" category="cell">XCP 筛选器</block>
  <block id="ca2e34fd1c2de7fa4ca5bb236706760b" category="cell">XCP SMB 排除选项当前会根据目录在筛选器中的模式排除这些目录，并遍历这些目录的文件系统。</block>
  <block id="76e35710ec65c5c13523e53f9290946d" category="cell">活动源支持</block>
  <block id="abef06ad7d7930b60b54d21ecda87d96" category="paragraph">以下常见功能不适用于 XCP NFS 和 SMB ：</block>
  <block id="163e080f44afc4f1a3717f3330b0859b" category="list-text">* 完成迁移的时间 * ： XCP UpFront 不提供完成迁移的时间或完成任何用于迁移的命令的时间。如果要执行最终转换，请确认源卷上的数据流失率较低。</block>
  <block id="da95bf9af8410657106b7dea7919e7af" category="list-text">* 在未清理的目标上重新运行副本 * ：如果目标目标上有部分数据， XCP 基线复制将失败。要成功执行 XCP 基线复制和 XCP 验证，目标必须为 Clean 。</block>
  <block id="b0875a764dddba8272cc3d6199016dd1" category="list-text">* 实时目标 * ： XCP 不支持在迁移期间或增量同步期间修改目标卷上的数据。</block>
  <block id="1f0b82560627b660c6c6958a1df834b8" category="section-title">支持的配置</block>
  <block id="c9dd6bad4c7d561872f2e2d498a990bf" category="inline-link-macro">互操作性表工具（ IMT ）</block>
  <block id="dc386eab306fc3054ddea5f07ec2ba5f" category="paragraph">中列出了所有 XCP 支持的配置，例如主机， ONTAP 版本和支持的浏览器 <block ref="5a16fc70d031dee6bd6712d64bea2027" category="inline-link-macro-rx"></block>。</block>
  <block id="ef8cdecd9388166741c6ddeb9e648a30" category="doc">配置 XCP</block>
  <block id="95b2f11d1aece0b4ddfc5cba00384742" category="summary">安装 XCP</block>
  <block id="5157096b4994925e784b5ccc913a425c" category="section-title">安装和配置工作流</block>
  <block id="dda26d898eec39eecd399e188771288e" category="paragraph">本文档介绍了在 NFS 和 SMB 系统上安装和设置 XCP 的简单工作流。</block>
  <block id="341d84aa26cb4521474864e04ea2a63b" category="inline-image-macro">错误：缺少图形映像</block>
  <block id="e0cc20d4c07649f34c6795a45c8f54ec" category="paragraph"><block ref="e0cc20d4c07649f34c6795a45c8f54ec" category="inline-image-macro-rx" type="image"></block></block>
  <block id="af4c2fb6e7c29314dbe63e8b1d277ff8" category="section-title">下载 XCP</block>
  <block id="83008f4493bba0b08400133371c2e80c" category="paragraph">从 NetApp 支持站点下载 XCP ，并从 XCP 站点获取许可证。</block>
  <block id="8c41baf1ca98e1184f48c4721d44d431" category="inline-link-macro">NetApp 支持站点</block>
  <block id="110444d197d67f7d16c29fa0e2022b7f" category="paragraph">您可以从下载 XCP <block ref="ff34957a5613d93a82e79914bce07df2" category="inline-link-macro-rx"></block>。</block>
  <block id="5d813edbc38ed8b3a73ab3c485aa5daf" category="section-title">许可证 XCP</block>
  <block id="0f217d96dd705618a7386cd8e0f4a5e4" category="paragraph">XCP 许可证可以脱机或联机许可证的形式提供。如果要发送迁移统计信息，请使用联机许可证。联机许可证需要 Internet 连接。脱机许可证不需要 Internet 连接。</block>
  <block id="b4c8d461cf544f3b1324e87e550416e1" category="section-title">准备系统</block>
  <block id="e20233267adbb44f966c8c601a37ab48" category="inline-link-macro">Linux 系统上的 XCP NFS</block>
  <block id="ab2ab8ec55d2b8153465aab462facdbd" category="paragraph">如果您使用的是 ... <block ref="367e28dbe315fcc55905a136826ab29e" category="inline-link-macro-rx"></block>，您必须准备目录和存储。</block>
  <block id="bbf70f0c406dea3e7fa1ac49fe5687a8" category="inline-link-macro">Microsoft Windows 系统上的 XCP SMB</block>
  <block id="8428460c8f54a104a00424c2f1cdfa14" category="paragraph">如果您使用的是 ... <block ref="0e898f1ccb329a0a604cc59e92092982" category="inline-link-macro-rx"></block>，您必须准备存储。</block>
  <block id="18debc7f1216480cd2c9cc97c9c22c12" category="summary">使用文件分析进行规划</block>
  <block id="384003e927f14a9663bcc9a576012dd1" category="paragraph">使用文件分析规划数据迁移。</block>
  <block id="1bfd6c721b5b34a7c85fb0545cace8f2" category="admonition">XCP 是一个 CLI ，而文件分析则具有一个图形用户界面。</block>
  <block id="af869dc88f4bba644edc40129cfbeeeb" category="paragraph">* 概述 *</block>
  <block id="79ca79b44bcd3dd23a0e525031bfb672" category="paragraph">XCP 文件分析使用 XCP 扫描 API 从 NFS 或 SMB 主机收集数据。然后，此数据将显示在 XCP 文件分析图形用户界面上。XCP 文件分析涉及三个主要组件：</block>
  <block id="27107cef6283311462b35eb24cd1f5ab" category="list-text">XCP 服务</block>
  <block id="faa16a9775679eda7988e934c13b119f" category="list-text">文件分析数据库</block>
  <block id="381ba20d8db8670bc4936ad0d95b6269" category="list-text">文件分析 GUI ，用于管理和查看数据</block>
  <block id="bd04bbee229516a404c8c54b22657400" category="paragraph">XCP 文件分析组件的部署方法取决于所需的解决方案：</block>
  <block id="0b857c6e7bf19abf29c47f989b4715dc" category="list-text">为 NFS 文件系统部署 XCP 文件分析解决方案：</block>
  <block id="365fed029c9130511d651745702873b6" category="list-text">您可以在同一 Linux 主机中部署文件分析图形用户界面，数据库和 XCP 服务。</block>
  <block id="958e2b400bf30068195bfa78570cd469" category="list-text">为 SMB 文件系统部署 XCP 文件分析解决方案：您必须在 Linux 主机中部署文件分析 GUI 和数据库，并在 Windows 主机上部署 XCP 服务。</block>
  <block id="0971884c69570e8ddf0c0cfb79e7a993" category="summary">您可以通过 Muse 检查是否使用正确的端口进行 XCP 迁移。</block>
  <block id="fc197bf3689c7c56e57771c38b2b98a6" category="paragraph">XCP 使用以下端口。</block>
  <block id="c2ba7e785c49050f48da9aacc45c2b85" category="cell">服务</block>
  <block id="60aaf44d4b562252c04db7f98497e9aa" category="cell">Port</block>
  <block id="c6546b53840ec8245dd4d4d70fcdbc26" category="cell">CIFS</block>
  <block id="98b68471f16f5d628a461634d6f6e6ff" category="cell">445 TCP/UDP</block>
  <block id="8261eb90f9fb907c2e8ed70cc224b082" category="cell">HTTP （ httpd ）</block>
  <block id="f033ab37c30201f73f142449d037028d" category="cell">80</block>
  <block id="0e8433f9a404f1f3ba601c14b026d321" category="cell">HTTPS</block>
  <block id="13f3cf8c531952d72e5847c4183e6910" category="cell">443.</block>
  <block id="6afa287278efd2068353874529e8b21d" category="cell">111 TCP/UDP 和 2049 TCP/UDP</block>
  <block id="c26c231d9e6acbc7ff10118d262f3f5e" category="cell">PostgreSQL</block>
  <block id="2e92962c0b6996add9517e4242ea9bdc" category="cell">5432</block>
  <block id="b5d1e5d54f5315ff2add6fab835e546d" category="cell">XCP （作为文件分析服务）</block>
  <block id="faad95253aee7437871781018bdf3309" category="cell">5030</block>
  <block id="430f0b9cbaeb94092aee4baf6da23965" category="cell">获取相应的 XCP 许可证文件。将 XCP 许可证复制到 XCP 主机上的 `c ： \NetApp\XCP` 文件夹。运行 `XCP activate` 命令以激活许可证</block>
  <block id="d41bf97a60e7be57b7f2c07b092ad5b0" category="cell">`XCP ：错误` ： XCP 未激活，请先运行 " 激活 "</block>
  <block id="93a8c927e888fa50601e3fe6d0cb5c14" category="cell">从下载 XCP 许可证 <block ref="f33ccbb3083b14f48de92a286ba83724" category="inline-link-macro-rx"></block>。复制 XCP Linux 客户端主机上 XCP 主机上的文件，该主机位于 XCP 主机上的 `c ： \NetApp\XCP` 。运行 `XCP activate` 命令以激活许可证。</block>
  <block id="c713e98ca26033cf525c6f3707197fb7" category="cell">`XCP ：错误` ：未找到许可证文件 C ： \NetApp\XCP\license</block>
  <block id="e0cb37236740c3d187441b0938f2e55f" category="cell">在上注册 XCP 许可证 <block ref="f33ccbb3083b14f48de92a286ba83724" category="inline-link-macro-rx"></block>。将许可证文件下载并复制到 XCP Windows 客户端主机上的 `C ： \NetApp\XCP\` 。</block>
  <block id="1b9f8dad8c202b50e4bc6dbfc712a272" category="cell">使用正确的共享名称重新运行命令</block>
  <block id="a283c2e507f611ec0a142f5f0ec7e489" category="cell">在 hosts 文件（`C ： \Windows\System32\drivers\etc\hosts` ）中添加目标框。NetApp 存储目标框条目必须采用以下格式： ` &lt;data vserver data interface ip&gt;` 1 或更多空格 ` &lt;cifs server name&gt;`</block>
  <block id="71aef63bcbc5d0c5e78ca147512cf71f" category="cell">`XCP 副本：错误` 无法获取回退安全主体（在主机文件中添加目标框条目后） xcp.log 文件中记录的错误消息： ` ' 未在帐户名称和安全 ID 之间进行映射 '`</block>
  <block id="0ab4127ba4947453135e709735a6fc6c" category="cell">回退用户 / 组不在目标系统（目标框）或 Active Directory 中。使用正确的回退用户 / 组选项重新运行命令</block>
  <block id="2e4e559c9f6001c3134b8795d8e47e81" category="cell">回退用户 / 组选项的参数不正确。使用正确的语法重新运行命令以回退用户 / 组选项</block>
  <block id="63debe27683f1f8c225ad14c415dffcc" category="summary">迁移数据</block>
  <block id="dfdcc7639b3e014792b21c9f7d5c85c0" category="summary">安装 XCP NFS</block>
  <block id="cfca5f031a4e11845916d10e6d53c91e" category="cell">源 NFSv3 和目标 NFSv3 的网络连接和根级别访问不会导出其他活动应用程序</block>
  <block id="306495a7669e8035296030fc21339366" category="cell">XCP 二进制文件需要 20 MB 磁盘空间，而 /opt/NetApp/xFiles/XCP/ 目录中存储的日志需要至少 50 MB 磁盘空间</block>
  <block id="1594a72c4334114af4250e4a70d6e8c9" category="admonition">实时源迁移的建议配置为 8 个核心和 64 GB RAM 。</block>
  <block id="66a601fe5f401770b437d5c7c8436c0e" category="list-text">以 root 用户身份登录到 Linux 计算机，然后下载并安装许可证：</block>
  <block id="89e2d7b55d7c6e3cea138d3f18fa8e31" category="list-text">验证先前版本 XCP 中的系统是否提供了 ` /opt/NetApp/xFiles/XCP` 路径。</block>
  <block id="228e0782986d1013ce0b49f658129e26" category="paragraph">如果提供了 ` /opt/NetApp/xFiles/XCP` ，请使用 `XCP activate` 命令激活许可证，然后继续执行数据迁移。</block>
  <block id="cae408e146414f197563c67edf318286" category="list-text">将此许可证复制到 ` /opt/netapp/xFiles/XCP/` ：</block>
  <block id="8ab783e73539b82c1414bd94a3037376" category="list-text">验证许可证文件是否已复制到 ` /opt/netapp/xFiles/XCP/` ：</block>
  <block id="181af529472b0626a27e692b85666546" category="summary">环境变量（仅限 NFS ）</block>
  <block id="5dd03e8d039863e563e049be198c3fd3" category="sidebar">发行说明</block>
  <block id="d60c463bb4096f3ed4bd1618626dfe10" category="sidebar">故障排除</block>
  <block id="a313028d66f24e87591ecef5ff9f3484" category="summary">IMT 中列出了 XCP 支持的配置，例如主机， ONTAP 版本和支持的浏览器。</block>
  <block id="57b6232ac0f92803d0544e702c641050" category="summary">某些功能在 XCP NFS 或 XCP SMB 上不受支持。</block>
  <block id="8ecf08ca07c6d4a3f11a8ecd76bdfb54" category="summary">HDFS 连接器使 XCP 能够访问不同供应商提供的任何 HDFS 文件系统。</block>
  <block id="1b3dde5d541467088a5fb667cc14f2ea" category="doc">配置 HDFS 连接器</block>
  <block id="7a737a0106671114c37e3d7033cdffd5" category="paragraph">对于 XCP NFS ， Hadoop 分布式文件系统（ HDFS ）连接器（ HDFS ： // ）使 XCP 能够访问不同供应商提供的任何 HDFS 文件系统。</block>
  <block id="e31d321ee0fdaaaf8ac9ef21026a1fd0" category="paragraph">HDFS 连接器支持从 HDFS 到 NFS 的 `copy` 命令操作。</block>
  <block id="2fcca0f204e97a80f73f130b2a96c173" category="paragraph">HDFS 连接器的路径语法为 `HDFS ： //[user@host ： port]/full-path` 。</block>
  <block id="895513c3073c7d8c0c3b54666a487132" category="admonition">如果未指定用户，主机和端口，则 XCP 将调用 `hdfsConnect` ，并将主机设置为 `default` ，而将端口设置为 `0` 。</block>
  <block id="c00c4274d8d993e8f4e353057a47bf05" category="paragraph">完成 HfDS 客户端设置后，必须在客户端上完成配置。要在 XCP 命令中使用 HDFS 路径，必须具有以下环境变量：</block>
  <block id="daf45f14fc0d11979b90c046f09e7692" category="list-text">NHDFS_LIBHDFS_path</block>
  <block id="ca3c0ce4cd4cbb196cc438fa98d8e563" category="list-text">NHDFS_libjvm_path</block>
  <block id="b696e4d6e09540fbab1d75e6c341d9e9" category="paragraph">在以下示例中，这些设置适用于 CentOS 上的 MapR 和 java-1.8.0-OpenJDK-devel ：</block>
  <block id="5315f815cd8e347436520e95ce6fe6a5" category="cell">XCP 扫描错误：找不到网络名称</block>
  <block id="3f83f3f6c25db286fb620064231f9217" category="cell">XCP 副本错误：错误无法获取回退安全主体错误消息记录在 xcp.log 文件中： `pywintypes.error ：（ 1722 ， "LookupAccountName" ， "RPC 服务器不可用。 " ）`</block>
  <block id="4be936fd7e612c47d18eaec68c3932c3" category="cell">`XCP 副本：错误` 无法获取回退安全主体（在主机文件中添加目标框条目后） xcp.log 文件中记录的错误消息： `pywintypes.error ：（ 87 ， "LookupAccountName" ， " 参数不正确。 " ）`</block>
  <block id="bf86284529584845670edb0c3a95e5ec" category="summary">通过 POSIX 连接器， XCP 可以访问任何 Linux 挂载的文件系统，例如 NFSv4 ， XFS 和 Veritas 。</block>
  <block id="4e8be65645e1c09ea65c5bf2fa334289" category="doc">配置 POSIX 连接器</block>
  <block id="159d5dad3025108b6e9c7a70ebc1dcb0" category="paragraph">现在， XCP NFS 支持使用 POSIX 连接器为数据迁移提供源路径和目标路径。</block>
  <block id="95ddd83f06b46164d9007a3fec84bd09" category="paragraph">POSIX 连接器支持以下功能：</block>
  <block id="61d64caacf6145ab9260325232ace1f3" category="list-text">对于支持 nanosecond `atime` ， `mtime` 和 `ctime` 的 POSIX 文件系统， `scan` 命令将获取完整值（秒和纳秒），然后 `copy` 命令将其设置</block>
  <block id="d67f0d6f3689c0b2c96700d038812574" category="paragraph">POSIX 连接器的路径语法为 ` \file ： //&lt; Linux 上的挂载路径 &gt;` 。</block>
  <block id="9cdc4f2bba7e1f74ab797e2bfab30c1a" category="paragraph">要设置 POSIX 连接器，必须执行以下任务：</block>
  <block id="974be5615abf4fe362f269edc57cc8b9" category="list-text">挂载源卷和目标卷</block>
  <block id="b8a381099562cd55362fa7e35a520bed" category="list-text">验证目标路径是否具有写入数据所需的权限</block>
  <block id="75b2b8d145ddf699b987dadebf324955" category="paragraph">在以下示例中挂载目标和目录：</block>
  <block id="1d44fe9a17cbcc906afeb702a8c0650e" category="paragraph">POSIX 连接器使用 POSIX 语法 `file ： //` 访问源卷和目标卷。在以上示例中，源路径为 ` \file ： //t/10.237.170.39_src_vol` ，目标路径为 `file ： // /t/10.237.170.53_dest_vol` 。</block>
  <block id="ede01f5e98faf5038b2692887de27589" category="paragraph">您可以通过为 XCP 用户创建 Linux 组来管理非 root 用户共享的 XCP 目录的示例配置。对于非 root 用户， Linux 组用户需要以下权限才能执行迁移。</block>
  <block id="37de02a4b60ff4cabea65dc63b0d0bc8" category="paragraph">在以下示例输出中， `demo` 是非 root 用户，而 ` /mnt/xcp-catalog` 是目录卷的挂载路径：</block>
  <block id="516b976a8a5d8b20164ebd6b1b3a6d28" category="paragraph">XCP 目录不会存储数据，但会存储扫描和复制文件名，目录名以及其他元数据。因此，建议您为允许的用户配置目录文件系统权限，使其能够保护存储的元数据。</block>
  <block id="1197ad5a3910de7aa6ef26ec881f03ce" category="paragraph">默认情况下，当您设置为常规用户时，对 POSIX 或 NFS3 目标执行 `copy` 命令时，不会尝试设置所有权（用户 ID （ UID ）和组 ID （ GID ）。所有权设置通常由管理员执行。当用户 A 从用户 B 复制文件时，用户 A 希望拥有目标。但是，如果 root 用户复制文件，则不会出现这种情况。当 root 用户复制这些文件时， ` chown` 选项会更改此行为，以便带有 ` -chown` 的非 root `copy` 命令尝试设置 UID 和 GID 。</block>
  <block id="a7a2c2a049f265cc780852866db03ac0" category="paragraph">您可以为 root 用户和非 root 用户配置设置，然后根据您的设置选择任一用户。</block>
  <block id="2e0178077435e20a76b29bf95752b395" category="paragraph">XCP 会将操作报告和元数据保存在可通过 NFSv3 访问的目录目录或具有所需权限的任何 POSIX 路径中。</block>
  <block id="37c61f0759557b7c6869b7975812dcb6" category="list-text">配置目录是一次性的安装前活动。</block>
  <block id="7611d45911be01775791692bcb58d3b1" category="list-text">每 1000 万个对象（目录加上文件和硬链接）索引大约 1 GB 的空间；可以恢复或同步的每个副本以及每个脱机可搜索的扫描都需要一个索引。</block>
  <block id="5cad50b0f7561b60eeb94de38f286346" category="list-text">要支持性能，包含导出目录的聚合至少需要十个磁盘或 SSD 。</block>
  <block id="2c40f64451d08661759b332825242588" category="admonition">您必须单独存储 XCP 目录。它们不能位于源 NFS 导出目录或目标 NFS 导出目录中。XCP 会维护元数据，这些元数据是在初始设置期间指定的目录位置中的报告。在使用 XCP 运行任何操作之前，您必须指定并更新用于存储报告的位置。</block>
  <block id="9e287d5cf8402252b617f813ca5bbcd7" category="list-text">源服务器和目标服务器必须启用 NFSv3 或 NFS v4.0 协议服务</block>
  <block id="1075b1a5a7aba7d9f25b2444c5fa99ad" category="list-text">对于 NFSv4 ACL 迁移，必须在目标服务器上启用 NFSv4 协议服务和 NFSv4 ACL 。</block>
  <block id="fcb3966f14183a157ac92b7ebeb80e86" category="list-text">必须通过 `root` 访问 XCP Linux 客户端主机来导出源卷和目标卷。</block>
  <block id="69477f24ee2c92ba61ec9bdcb1ad4de5" category="admonition">为了防止管理员意外修改源卷，您应将 NFSv3 和 NFSv4 导出目录的源卷配置为只读。</block>
  <block id="2d79e432838e40bf14c022092a9ee7c7" category="section-title">root 用户</block>
  <block id="1b644fae3096d18c32ea2eb163d208d7" category="paragraph">Linux 计算机上的 root 用户有权挂载源卷，目标卷和目录卷。</block>
  <block id="b1330e2178f1e768cc94859ba49ae6bd" category="section-title">非 root 用户</block>
  <block id="ae489e7c64c7f4a4d143e12281642d7c" category="list-text">对源卷的读取权限访问</block>
  <block id="3ec0238607113152ae7f227b92c2a43f" category="list-text">对已挂载目标卷的读 / 写权限访问</block>
  <block id="9c3f740abe99e1e0002c446d4b4e72de" category="list-text">对目录卷的读 / 写权限访问</block>
  <block id="4265a6359621296a6a62e358a36f0c38" category="cell">NFSv3 和 NFSv4 （ POSIX 和 ACL ）</block>
  <block id="3265face5242872b3514e6079e373c91" category="section-title">为 root 用户安装 XCP NFS</block>
  <block id="547e5edf6a67d692e789acab4a7f3586" category="paragraph">您可以使用以下操作步骤为 root 用户安装 XCP 。</block>
  <block id="9496fc241dd177e9b533862e7e81812a" category="list-text">要提取此工具，请解压缩 XCP ：</block>
  <block id="411b31fbf8165b763147d100dc88401a" category="paragraph">如果 ` /opt/netapp/xFiles/XCP` 不可用，则在首次运行 `XCP activate` 命令时，系统会在 ` /opt/netapp/xFiles/XCP` 中创建 XCP 主机配置目录。</block>
  <block id="3af23bfc747843a6219b5cedc440c373" category="paragraph">由于未安装许可证， `XCP activate` 命令失败：</block>
  <block id="75361fdbf42e50b9175fb0f2f11b61e5" category="section-title">为非 root 用户安装 XCP</block>
  <block id="3edfc6fdc9011c16a3a3364feb4be83c" category="paragraph">您可以使用以下操作步骤为非 root 用户安装 XCP 。</block>
  <block id="d01c7e76ee98a57762c474f91282e4fa" category="list-text">以非 root 用户身份登录到 Linux 计算机，然后下载并安装许可证：</block>
  <block id="418be33a2355fd7d8203a3d895a9db7d" category="list-text">验证先前版本的 XCP 是否在系统上提供了 ` /home/user1/NetApp/xFiles/XCP` 路径。</block>
  <block id="9804effef906123fccb69ec997bfcaeb" category="paragraph">如果 ` /home/user1/NetApp/xFiles/XCP` 路径可用，请使用 `XCP activate` 命令激活许可证并继续执行数据迁移。</block>
  <block id="c964f883e08bd7e73eedf7523e656fce" category="paragraph">如果 ` /home/user1/NetApp/xFiles/XCP` 不可用，则在首次运行 `XCP activate` 命令时，系统会在 ` /home/user1/NetApp/xFiles/XCP` 中创建 XCP 主机配置目录。</block>
  <block id="818c4be34b657c2134ee2c70ef2312c5" category="list-text">将许可证复制到 ` /home/user1/NetApp/xFiles/XCP/` ：</block>
  <block id="03ab84de1a594e05c7eb116ea062b26c" category="list-text">验证许可证文件是否已复制到 ` /home/user1/NetApp/xFiles/XCP/` ：</block>
  <block id="fc7af6e6e28187c4a6802a620fab64b4" category="paragraph">`copy` 命令可扫描整个源目录结构并将其复制到目标 NFSv3 导出。`copy` 命令要求源路径和目标路径均为变量。扫描和复制的文件，吞吐量 / 速度以及经过的时间详细信息将在复制操作结束时显示</block>
  <block id="b2afea67c58251abc9cea9e00c6f6195" category="paragraph">* POSIX 路径示例： *</block>
  <block id="9db3ca538820d0cfb7b44ef80f16ca98" category="doc">性能调整</block>
  <block id="b0b900f48dcf7f402754cc2d5748fc0d" category="paragraph">对于 XCP NFS ，使用 `show` 和 `scan` 命令规划迁移后，您可以迁移数据。</block>
  <block id="50b19e2d999f8ca8fad7bcf765a85ae1" category="admonition">以非 root 用户身份执行数据迁移时， root 用户可以执行以下步骤。</block>
  <block id="85e1f25d7a3b03fd9a7377f546a7e0ff" category="paragraph">为了获得最佳性能和可靠性， NetApp 建议在 XCP Linux 客户端主机上的 ` /etc/sysctl.conf` 中设置以下 Linux 内核 TCP 性能参数。运行 `sysctl -p` 或 `reboot` 命令以提交更改：</block>
  <block id="a3f0fc42147cbdea8a42a9603bfae066" category="admonition">对于非 root 用户，此设置必须由 root 用户执行。</block>
  <block id="31cd55a7ebce7cb193b0b2476a5f6631" category="cell">PostgreSQL 服务失败</block>
  <block id="78954e9bb59728299873706192a5df73" category="list-text">重新启动 PostgreSQL 服务：</block>
  <block id="7e248395787e70627bf471ebed8a48a3" category="paragraph">`sudo systemctl restart postgresql.service`</block>
  <block id="83bc7453d7872b8446f301c3565c08f2" category="list-text">检查服务状态：</block>
  <block id="525a1dd8fcaeb6b3a178de1c60e9a857" category="paragraph">`sUdo systemctl status postgresql.service | grep Active`</block>
  <block id="58e0ac0bb18008430f97560108149515" category="cell">httpd 服务失败</block>
  <block id="3be2db89060ab9c2e383a1fbdd7213a2" category="list-text">检查 HTTPD 服务状态：</block>
  <block id="773d6c478422286a9fad650c3ddd09dd" category="paragraph">`sUdo systemctl status httpd | grep Active`</block>
  <block id="fca5f9179b264aa12937804595452dfa" category="list-text">验证您使用的浏览器版本是否受支持。请参见 <block ref="277e95e57632f1d20d4cd8ea672c1493" category="inline-link-macro-rx"></block>。</block>
  <block id="3721f4d27bf1373c3dce1560f7ad4013" category="list-text">验证用户是否为 "admin" 且密码是否正确。</block>
  <block id="6211d4f14a03b437fa7d26c363715474" category="list-text">发出 `XCP 服务状态` 以验证 XCP 服务是否正在运行。</block>
  <block id="2c028c3924ba3fe117682b1dc99462a5" category="cell">XCP 图形用户界面未显示更新后的页面。</block>
  <block id="78b066c66e37c2c031c4496a3ddebed0" category="cell">清除缓存并重试。</block>
  <block id="0794915b73fa5fed8fdbb7381cf8053b" category="cell">文件共享 / 卷可能无法读取。运行 `XCP show` 命令，手动检查文件共享是否可访问 / 读取。此外，请检查是否已删除 `xcp.ini` 文件。如果删除了此文件，请使用 configure.sh 脚本修复选项重建 `xcp.ini` 文件。</block>
  <block id="3851e00cfd9ac3614604e7ee99194ebf" category="cell">尝试刷新页面。如果此问题仍然存在，请在提示符处手动运行 `XCP show` 命令并检查是否可以扫描文件服务器。如果成功，请向 NetApp 客户支持部门提交服务单。如果失败，请执行手动检查以检查文件服务器是否处于活动状态。检查 `xcp.ini` 文件和许可证文件是否位于正确的位置。要重置 `xcp.ini` 文件，请运行配置脚本并选择 * 修复 * 选项。接下来，选择菜单选项 * 重建 xcp.ini 文件。 * 检查 `xcpfalogs` 日志以查看许可证是否需要续订。</block>
  <block id="ec0bc824851831e651eff319ac6be069" category="cell">如果卷中存在 qtree 级别的导出，则可能会发生这种情况。例如，如果导出为 ` /vol1` 的卷大小为 10 GB ，并且卷 ` /vol1/qtree1` 中有一个 qtree ，则 `XCP show` 命令会将 `vol1` size 显示为 `10 GB` ，并将 `qtree1` size 显示为 `10 GB` 。XCP 文件分析将对两个导出的空间进行求和，并提供总空间，在本例中为 `20 GB` 。它不知道 `qtree1` 是逻辑空间。</block>
  <block id="d0b08bb1d5a232daa12efa61e334bd33" category="list-text">`XCP 扫描 \file ： //mnt/nfs-source`</block>
  <block id="95e9d579b96f02c13ed81480b282135b" category="list-text">`XCP 扫描 HDFS ： //demo/user1`</block>
  <block id="4467bdfaff09862977dbfe2f4fb9dca5" category="doc">环境变量</block>
  <block id="36836fd13aeec5b924ea6cf294316fa1" category="paragraph">XCP NFS 系统的可选环境变量配置。</block>
  <block id="9d7df06a85bdd4b5d7f134e518ba0eb5" category="admonition">非 root 用户也可以使用以下变量。</block>
  <block id="8dec2942730a578afac995d1f6dbb48c" category="admonition">对于非 root 用户，必须将导出路径中的 `XCP_catalog` 替换为 POSIX 路径。</block>
  <block id="e981fe37c8879e923e07dadeb9379fe4" category="summary">要克服单个节点的性能限制，您可以使用单个 XCP copy 命令在多个 Linux 系统或集群节点上运行工作人员。</block>
  <block id="153ac2dbf14a38bdfdf76ac38b946158" category="doc">配置多节点横向扩展</block>
  <block id="ab655b44682f313f14f6de4d1867d0b6" category="paragraph">对于 XCP NFS ，您可以通过使用一个 `copy` （或 `scan -MD5` ）命令在多个 Linux 系统或集群节点上运行 workre 来克服单个节点的性能限制。</block>
  <block id="34109dd87e259e3368d0527414feaced" category="paragraph">在单个系统的性能不足的任何环境中，多节点横向扩展都很有用，例如在以下情形中：</block>
  <block id="8f93480e5a7520f56fd9721507d3f134" category="list-text">单个节点需要数月才能复制数 PB 的数据</block>
  <block id="682fc2970f57e82b3aa1b77324aa5ab5" category="list-text">如果与云对象存储的高延迟连接会减慢单个节点的速度</block>
  <block id="82d1e2f124b7c4ed4bf2ff7b94d07580" category="list-text">在运行大量 I/O 操作的大型 HDFS 集群场中</block>
  <block id="867d70e5cd005545ea08668983984822" category="paragraph">多节点横向扩展的路径语法为 ` -nodes worker1 ， worker2 ， worker3` 。</block>
  <block id="bb1a203003802f0405eebd6a7f7623a8" category="paragraph">请考虑使用四台 Linux 主机进行设置，这些主机具有相似的 CPU 和 RAM 配置。您可以使用所有四个主机进行迁移，因为 XCP 可以在所有主机节点之间协调复制操作。要在横向扩展环境中使用这些节点，您必须将四个节点中的一个节点标识为主节点，而将其他节点标识为辅助节点。例如，对于 Linux 四节点设置，将节点命名为 "master" ， "worker1" ， "worker2" 和 "worker3" ，然后在主节点上设置配置：</block>
  <block id="ed5bbe49896e4119e2bc434266a4e9dd" category="list-text">将 XCP 复制到主目录中。</block>
  <block id="ef9985cb080be75e8968d6283e5ffb67" category="list-text">安装并激活 XCP 许可证。</block>
  <block id="2bb343c5c64b5c34c9de8bcf47e92785" category="list-text">修改 `xcp.ini` 文件并添加目录路径。</block>
  <block id="e7465a44f40c1871dc86247362cb9c17" category="list-text">将主节点上的无密码安全 Shell （ SSH ）设置为辅助节点：</block>
  <block id="d0d53af0a600e75b327575d75c03861c" category="list-text">在主节点上生成密钥：</block>
  <block id="9d55d07ef712b748878175a6aa889333" category="list-text">将密钥复制到所有工作节点：</block>
  <block id="70e4f46a27cb6199ac7f605ef48989f9" category="paragraph">XCP 主节点使用 SSH 在其他节点上运行工作人员。您必须对工作节点进行配置，以便为在主节点上运行 XCP 的用户启用无密码 SSH 访问。例如，要使用户能够在主节点上进行演示，以使用节点 "worker1" 作为 XCP 工作节点，您必须将 XCP 二进制文件从主节点复制到主目录中的所有工作节点。</block>
  <block id="8b76ed249e6db9e50569a0493601ca7b" category="paragraph">同时启动多个 XCP 工作节点时，为了避免出现错误，您应增加每个工作节点上的 `sshd MaxStartups` 参数，如以下示例所示：</block>
  <block id="e88c2696512e18442eb3ff58e07b493a" category="paragraph">当 XCP 在集群节点上运行辅助进程时，此辅助进程会从主节点上的主 XCP 进程继承环境变量。要自定义特定节点环境，您必须仅在主节点上的配置目录中的 `nodes.ini` 文件中设置变量（工作节点没有配置目录或目录）。例如，对于其 `libjvm.so` 位于与主节点不同位置的 Ubuntu 服务器 Mars ，例如 Wave （即 CentOS ），它需要一个配置目录，以允许使用这些服务器的工作人员使用 HDFS 连接器。此设置如以下示例所示：</block>
  <block id="bae7f8a61d8cf1102cf26d111642782d" category="paragraph">如果使用具有 POSIX 和 HDFS 文件路径的多会话，则必须在主节点和所有工作节点上挂载文件系统以及源和目标导出的文件系统。</block>
  <block id="0aae93e59b413158a9f79c59df5b1564" category="paragraph">当 XCP 在工作节点上运行时，该工作节点没有本地配置（无许可证，日志文件或目录）。系统主目录中仅需要 XCP 二进制文件。例如，要运行 `copy` 命令，主节点和所有工作节点都需要访问源和目标。对于 `XCP 副本 -nodes linux1 ， linux2 hdfs ： //user/demo/test \file ： //mnt/ontap` ， `linux1` 和 `linux2` 主机必须配置 HDFS 客户端软件，并在 /mnt/ontap 上挂载 NFS 导出，如前所述，还必须在主目录中复制 XCP 二进制文件。</block>
  <block id="915e32144be4f88d02cc0b7b1e33c7c8" category="paragraph">您可以结合使用 POSIX 和 HDFS 连接器，多节点横向扩展和安全功能。例如，以下 `copy` 和 `verify` 命令将 POSIX 和 HDFS 连接器与安全性和横向扩展功能结合在一起：</block>
  <block id="2961c595e1b9c1f2bd47edd1c8970e5f" category="list-text">`copy` 命令示例：</block>
  <block id="ddb7e8c7aef66a74fdfde909cf41e522" category="list-text">`verify` 命令示例：</block>
  <block id="8c1266abe370ed20e2a1105ba429c736" category="cell">NFSv4 访问控制列表（ ACL ）（第三方）</block>
  <block id="ea5a201cf8a5f489b67f974cdbe8ec60" category="cell">POSIX 连接器</block>
  <block id="b095640f647d7c14d7c809d0232cd3be" category="list-text">`sync` 命令不支持 POSIX 连接器</block>
  <block id="be449fd5b6a09000629daade7fdd5583" category="list-text">源处于活动状态时，不应使用 `copy` 命令</block>
  <block id="edc9f0a5a5d57797bf68e37364743831" category="cell">Linux</block>
  <block id="bd2cc77640d48204c25994ade9373d0d" category="cell">XCP 1.0.3 支持的早期版本 Linux 不再支持 XCP 。</block>
  <block id="84b5f1dcb24995657953339470fd8782" category="list-text">* 文件分析的非 root 用户 * ： XCP 不支持由非 root 用户或 sudo 用户执行的安装和配置。</block>
  <block id="d851ab4c5c4fba2cc3e27dbabf3c3675" category="cell">从下载许可证 <block ref="f33ccbb3083b14f48de92a286ba83724" category="inline-link-macro-rx"></block>，将其复制到 ` /opt/netapp/xFiles/XCP/` ，然后运行 `XCP activate` 命令将其激活。</block>
  <block id="98dda3ac723570bf847c92d35e6264d2" category="cell">您正在尝试激活联机许可证，并且主机系统未连接到 Internet 。确保您的系统已连接到 Internet 。</block>
  <block id="60612c946e496400e59de02fe9c8f935" category="cell">在 XCP Linux 客户端主机上打开编辑器，然后使用正确的目录位置更新配置文件。XCP 配置文件位于 ` /opt/netapp/xFiles/XCP/xcp.ini` 。配置文件的示例条目： ` 根@scspr1949387001 ~ ]# cat /opt/netapp/xFiles/XCP/xcp.ini` ` XCP]` `catalog = 10.235.128.153 ： /catalog`</block>
  <block id="d6dba2cc68030260f54cd26c1aed3041" category="cell">在创建索引文件之前，先前的复制操作中断。使用新索引重新运行同一命令，在执行此命令时，请验证关键字 " 已编制索引 " 是否显示在统计信息中。</block>
  <block id="6994c4407ea0812e1fe6961944f1e62a" category="cell">使用 NFSv4 在 XCP 主机上挂载源和目标，例如， `mount -o vers=4.0 10.10.10.10 ： /source_vol /mnt/source`</block>
  <block id="b57ceadb9b479628bfe87f6f61717456" category="cell">`mNT3 错误 13 ：权限被拒绝`</block>
  <block id="5e98d8c9d33ef628ab440eb91a35aa35" category="cell">作为非 root 用户，您没有访问文件系统的正确权限。检查您是否可以访问文件系统并执行读写操作。</block>
  <block id="605d810fa950072ae36d7ab590a10190" category="cell">`XCP ： batch 1 ： error ： [errno 13] permission denied ：`</block>
  <block id="a236f13f8ce1d6dc81ede81947747059" category="cell">`mXCP ：错误： OSMounter <block ref="58467edd6c43a3c3c7d875c00ff3d61f" category="inline-link-rx"></block> 10.234.115.215_src_vol/DIR' ：不存在此类文件或目录`</block>
  <block id="384e586a72b62e63cca623821b77a83a" category="cell">路径 ` /t/10.234.115.215_src_vol/ DIR` 未挂载到 Linux 文件系统上。检查路径是否存在。</block>
  <block id="ee36f42d906a5d7add26f1455618e30b" category="cell">`错误： run sync ｛ -id ： 'Xcp_index_1624263869.3734858' ｝ ：同步尚不可用于 HDFS/ POSIX/s3fs 源和目标 - 临时解决策正在使用匹配筛选器复制最近的 MOD`</block>
  <block id="db73cb94f62d3a2799f6ab05ec9dc57e" category="cell">对于 POSIX 和 HDFS 连接器， XCP 不支持 `sync` 命令。</block>
  <block id="73287168b074ec1a1183ae801c9210f5" category="cell">使用不同的修改时间时， `XCP verify` 命令失败</block>
  <block id="080057db4c224649098c09cbbc7549f8" category="cell">您可以确定文件并手动将文件复制到目标。</block>
  <block id="596bbf8778031c332c362402c354a053" category="cell">`无法恢复非目录对象复制 / 同步；请重试复制。` `有关详细信息，请参见 XCP 用户指南。`</block>
  <block id="8813bd98e95eb4fa8de6a5d3a9cda1ae" category="cell">由于无法恢复单个文件，因此建议再次对该文件运行 `XCP copy` 命令。如果对文件进行任何更改，则会创建完整的文件副本。因此，性能不会受到影响。</block>
  <block id="5a21eef8c5bd906bb47951f0f6c84e0d" category="cell">`无法同步非目录对象；请重试复制。` `有关详细信息，请参见 XCP 用户指南。`</block>
  <block id="b09a96b405c2f6e7c1d1d26969a716e1" category="cell">由于无法同步单个文件，因此建议再次对该文件运行 `XCP copy` 命令。如果对文件进行任何更改，则会创建完整的文件副本。因此，性能不会受到影响。</block>
  <block id="9a79371631dc47ec167f3f7d0686a45e" category="cell">`XCP ：错误： batch 4 ：无法连接到节点：`</block>
  <block id="b34fc948fea8a7cae8f6466b9320828d" category="cell">验证 ` — nodes` 参数中指定的节点是否可访问。尝试从主节点使用安全 Shell （ SSH ）进行连接</block>
  <block id="802296207f243f4f8d74f9df675ec014" category="cell">` 权限被拒绝`</block>
  <block id="ba6807036282ea03969e0ea735a1e2a5" category="cell">检查您是否有权在目标卷上写入数据。</block>
  <block id="e4add07a604bb98ac4aacc4b8c857f6f" category="cell">`XCP ：错误：批处理 2 ：子进程失败（退出代码 -6 ）： recv &lt;type 'Exceptions.EOFError"&gt; ：`</block>
  <block id="08f481ccf8f3283bb87e9a548c2fbb41" category="cell">增加系统内存并重新运行测试。</block>
  <block id="27844988f363a5f923e9334ae145a1fd" category="doc">配置此 INI 文件</block>
  <block id="29c2f1feeb1231581bf05d60a3d62a9a" category="paragraph">为 XCP 配置 ini 文件的步骤。</block>
  <block id="586dba64773da8695bdac99be604919f" category="section-title">为 root 用户配置此 ini 文件</block>
  <block id="21ee12acf8b4df5f11e93b279367513a" category="paragraph">您可以使用以下操作步骤为 XCP NFS root 用户配置 文件。</block>
  <block id="e1ec25dfcb584912005b067403525e95" category="list-text">使用 `vi` 编辑器在主机配置文件中添加 XCP 服务器的目录位置：</block>
  <block id="15b9d4023566740949c10a9a9533c35c" category="list-text">验证目录的 XCP Linux 客户端主机配置文件条目是否已修改。</block>
  <block id="4c82d2eef29d76c200ed39d04be95fc0" category="section-title">为非 root 用户配置此 ini 文件</block>
  <block id="c9beec711f96849f59fc8b461a17c844" category="paragraph">作为非 root 用户，您无权挂载 NFS 文件系统。需要 root 用户先挂载目录卷，然后，作为运行 XCP 的非 root 用户，如果您对目录卷具有读 / 写权限，则可以使用 POSIX 连接器访问挂载的目录卷。挂载卷后，您可以将目录添加到路径：</block>
  <block id="145d53a32d3487520bd34eee8e20c389" category="summary">XCP NFS 附加功能支持使用 POSIX 和 HDFS 连接器，增强安全性，并支持使用横向扩展架构来加快数据迁移速度。</block>
  <block id="2113611c6320a48f92fea30c44c76f5a" category="doc">XCP NFS 附加功能</block>
  <block id="5c8249d1b7838ae94a73676b3af9091d" category="section-title">支持 NFSv4</block>
  <block id="48516b0c7199d8b965898ca813c5db0d" category="paragraph">如果仅在数据中心的源卷，目标卷和目录卷上启用 NFSv4 ，则可以使用 POSIX 路径而不是导出路径来迁移数据。要使用 POSIX 路径，必须先在运行 XCP 的主机系统上挂载源卷，目标卷和目录卷，然后使用 POSIX 文件路径为 XCP 提供源卷和目标卷。请参见 <block ref="4357b5b12949e0beb928764758230f36" category="inline-link-macro-rx"></block>。</block>
  <block id="f0a40ab44292f93f12a2d372e02c3cc2" category="list-text">NFSv4 支持仅限于 POSIX 路径和 `copy` 操作，不支持 `sync` 操作。</block>
  <block id="aa32463f7efd97cda3d13e5569a64d92" category="list-text">与 XCP NFSv3 TCP 套接字客户端引擎相比， POSIX 连接器可能速度较慢。</block>
  <block id="efed9a1e974f019693529d0db8556c39" category="section-title">POSIX 连接器</block>
  <block id="c3cc85c605802927b0ba556ad1712a23" category="paragraph">XCP 1.8 支持使用 POSIX 连接器为数据迁移提供源，目标和目录路径。POSIX 连接器（ file ： // ）使 XCP 能够访问任何 Linux 挂载的文件系统，例如 NFSv4 ， XFS 和 Veritas 。对于非 root 用户，系统管理员可以挂载文件系统，以使任何非 root 用户能够使用带有 file ： // 前缀的 POSIX 连接器访问文件系统。</block>
  <block id="c980562a67ab1f47ad354aa5073d24de" category="paragraph">如果您没有足够的权限挂载文件，或者数据中心提供的支持仅限于 NFSv4 ，则可以使用 POSIX 连接器。在这种情况下，任何 root 用户都可以挂载源和目标，然后使用 POSIX 连接器访问路径。使用 POSIX 连接器时，只能运行 `XCP copy` 操作。</block>
  <block id="3a51cb36881e8e178c9bf99d64946283" category="section-title">XCP 安全性</block>
  <block id="f22fc7dc06956fc47928d7d86c04b513" category="paragraph">通过 XCP 安全功能，您可以在 Linux 主机上以非 root 用户身份执行迁移。在早期的 XCP 版本中，作为 Linux 计算机上的 root 用户，您可以使用源卷，目标卷和目录卷的所有权限执行迁移，此挂载将通过 XCP 操作完成。</block>
  <block id="d6c5dec882eba287336a4a472a703c98" category="paragraph">在执行数据迁移之前，通常会关闭安全性并让管理员尽快复制所有内容。对于 XCP 已使用多年的生产环境中的持续过渡，以管理员（或 root 用户）身份运行并不安全。因此，如果不要求以 root 用户身份运行 XCP ，则可以在安全环境中使用 XCP 。当常规非 root 用户运行 XCP 操作时，非 root 用户与用户具有相同的访问权限和限制。</block>
  <block id="c0a0bb4715a7e7c1d0af31f8b2272777" category="paragraph">在此安全环境中， root 用户可以将源卷，目标卷和目录卷挂载到主机上，并为非 root 用户写入数据的目标卷和目录卷提供必要的权限。这样，非 root 用户就可以使用 XCP POSIX 连接器功能执行迁移。</block>
  <block id="4a93e3fe55afb4b06c7c266c66129ddc" category="section-title">XCP 横向扩展</block>
  <block id="e25a79f68fb914070c48850eab6d3a15" category="paragraph">到目前为止，使用 XCP 的数据迁移仅限于 RAM 和 CPU 较高的单个主机。为了加快迁移速度，增加了单个主机上的内存和核心，但复制数 PB 的数据仍可能需要很长时间。XCP 横向扩展架构使您能够使用多个主机执行数据迁移。通过此功能，您可以使用多个 Linux 主机来分布工作负载并缩短迁移时间。</block>
  <block id="2051d1acfe38bc6422b7be5a01744ff5" category="paragraph">在单个系统的性能不足的任何环境中，您都可以从多节点横向扩展中受益。要克服单个节点的性能限制，您可以使用单个 `copy` （或 `scan -md5` ）命令在多个 Linux 系统或 Hadoop 集群节点上运行工作人员。目前，只有 `copy` 命令操作才支持 XCP 横向扩展。</block>
  <block id="f5722ad26fc4954a8cad9346809792b6" category="section-title">Hadoop 分布式文件系统连接器</block>
  <block id="30f1813985f65c01bf2b9b92879bc38d" category="paragraph">XCP 支持将数据从 Hadoop 分布式文件系统（ Hadoop Distributed File System ， HDFS ）文件系统迁移到 NetApp 文件系统，反之亦然。在启用了安全性的 Hadoop 环境中， Hadoop 集群上的非 root 用户可以迁移到 NetApp NFSv4 导出的文件系统。HDFS 连接器（ HDFS ： // ）使 XCP 能够访问不同供应商提供的任何 HDFS 文件系统。非 root 用户可以使用 XCP 通过 HDFS 或 POSIX 连接器执行迁移。</block>
  <block id="296424663e8e3bf16ffbb2dffed95868" category="paragraph">您可以将 HDFS 集群包括在 XCP 横向扩展配置中，因为它们使用多个高端 Linux 计算机。这样可以最大限度地减少对额外 XCP 工作节点的需求。对于数据迁移，您可以选择重复使用 HDFS 集群节点或使用不同的主机。</block>
  <block id="df6c0aff915e6eb3864841ff85b7cd84" category="admonition">HDFS 连接器适用于 MapR 和 Cloudera 集群并受其支持，但只能执行基线 `复制` 操作。</block>
  <block id="62283e8b61ae280bfbfcb0e8237e37be" category="paragraph">XCP 支持使用 `xcpLogConfig.json` JSON 配置文件配置多个可选功能。要仅启用特定功能，请手动创建 `xcpLogConfig.json` 配置文件。您可以使用 `xcpLogConfig.json` 配置文件启用：</block>
  <block id="00a20684d8065f1c9d26a305e2eadcd0" category="cell">子选项名称</block>
  <block id="508302f93085c89bb969aac3a0863690" category="cell">JSON 数据类型</block>
  <block id="2c03b0684383dd1a51ac7863955591d6" category="paragraph">XCP 支持的一个常见选项；将其值设置为 true 会在要支持的消息（日志记录，事件，系统日志等）中隐藏敏感信息（ IP 和用户名）。例如，将 `sanitize` 选项设置为 `false` ： * `2020-07-17 03 ： 10 ： 23 ， 779 - 信息 - 12806 XCP XCP 路径： ['10.234.104.251 ： /cat_vol']` * `2020-07-12817` 03 ： 10 ： 23 ， 778 - 信息 - 12806 XCP XCP 用户名： root` XCP 路径： `s2020-07-1217 ： ``XCP ：` XX.XX.XX.XX./cat_vol']` * `2020-07-17 03 ： 13 ： 51 ， 595 - 信息 - 12859 XCP XCP 用户名 * * *`</block>
  <block id="0db76c5e35f0f2f03c2d9b09a9c5b6ab" category="list-text">对于要启用的任何功能，请将 `isenabled` 值更改为 `true` 。</block>
  <block id="99c35850ff7cf7e436b03acedd4c59b3" category="cell">HDFS</block>
  <block id="3c5be6328b5f6a0a5980341230b8ac05" category="cell">7222</block>
  <block id="580b128701ff902d4e6230fe6bbdd91f" category="list-text">要添加文件服务器，请选择 * 添加文件服务器 * 。</block>
  <block id="557826c4c436faf2e30d6af6f7e8debf" category="list-text">要开始安装，请双击安装程序。接受条款和条件并选择 * 安装 * 。</block>
  <block id="23c9666a12a742df28045c71457392a3" category="list-text">安装完成后，重新启动 Windows 客户端。</block>
  <block id="5dfa463a08f83c24c2d431cffb177fa8" category="list-text">在 Windows 客户端上下载许可证和 XCP SMB 二进制文件 `NetApp_XCP_&lt;version&gt;.tgz` 。</block>
  <block id="bdacdc2ce48f16d27d87fef257b0c28f" category="list-text">提取 `NetApp_XCP_&lt;version&gt;.tgz` 文件。</block>
  <block id="17b92bb56c632debb93b565e92dbd987" category="list-text">验证 `C ： \NetApp\XCP` 路径是否可从先前版本的 XCP 在系统上使用。如果 `C ： \NetApp\XCP` 可用，请使用 `xcp.exe activate` 命令激活 XCP ，然后继续执行数据迁移。</block>
  <block id="c9dd31b110e2c919cd80441873e975fc" category="paragraph">如果 `C ： \NetApp\XCP` 不可用，则在首次运行 `xcp.exe activate` 命令时，系统会创建 XCP 主机配置目录并将其记录在 `C ： \NetApp\XCP` 中。`xcp.exe activate` 命令失败，并创建一条错误消息，要求提供新许可证。</block>
  <block id="fca650b5fb2499a28c4614bbf33b9323" category="list-text">选择添加的文件服务器卡上的箭头以查看文件服务器上的文件共享。</block>
  <block id="5cee208e7218470f7403f97e33abc3ae" category="list-text">从文件共享列表中，选择要扫描的文件共享的名称。</block>
  <block id="615850afbe695865bc7ae374479ce461" category="list-text">选择 * 扫描 * 以启动扫描。</block>
  <block id="f95bfd775a7588394c547c77a2cb75fa" category="list-text">选择 * 更改审核和安全日志 * 。</block>
  <block id="c64a522ee6418ae33077670975c2798b" category="admonition">在复制操作期间，您可以将 ` -preserve-atime` 标志与 `copy` 命令结合使用，以保留源的访问时间。</block>
  <block id="9d83a2ce37bac2516a6b570ccc972b69" category="admonition">在同步操作期间，您可以将 ` -preserve-atime` 标志与 `sync` 命令结合使用，以保留源上的访问时间。</block>
  <block id="7e4d5419d4fcf4ceade27ffac84d4e92" category="list-text">在验证操作期间，您可以将 ` -preserve-atime` 标志与 `verify` 命令结合使用，以保留源上的访问时间。</block>
  <block id="d04f98cbab23bb984f10968cafdb77bf" category="section-title">配置 Windows 客户端</block>
  <block id="8723065565846862b1fa4bd925384734" category="list-text">将目标存储箱和源存储箱添加到主机文件：</block>
  <block id="cf2408bbf2ce4b4de95513dd3053d13a" category="list-text">导航到以下位置： ` （ C ： \Windows\System32\drivers\etc\hosts ）`</block>
  <block id="73510c08d5556b316226c808aaa9eca1" category="list-text">以以下格式将以下主机条目插入到文件中：</block>
  <block id="476073ef56fe1fff4342c5ca2a5df7b2" category="paragraph">` &lt; 源数据 SVM 数据接口 IP&gt; &lt; 源 CIFS 服务器名称 &gt; &lt; 目标数据 SVM 数据接口 IP&gt; &lt; 目标 CIFS 服务器名称 &gt;`</block>
  <block id="938f1047c15f00fdd0cbfc8e4cfa15e1" category="paragraph">* 示例 *</block>
  <block id="3b511dbccc3be54ef9ec0eb7891e0660" category="inline-image-macro">主机文件示例</block>
  <block id="43ab6e97e5a245b30aa42dc31aab3fde" category="paragraph"><block ref="43ab6e97e5a245b30aa42dc31aab3fde" category="inline-image-macro-rx" type="image"></block></block>
  <block id="f6d7a1a39c7e76b0a2ad7044af130caf" category="section-title">支持的功能</block>
  <block id="020ec197b81e56345052745b2d507168" category="section-title">路径语法</block>
  <block id="e46c2c3b78dd65a39b82aaeb11382265" category="section-title">设置 POSIX 连接器</block>
  <block id="0d800eaa04aaecec3ceb6afe9d979e75" category="section-title">所有权（ UID 和 GID ）</block>
  <block id="13da1aac842d8173bd42f8e52ae0233a" category="section-title">增加打开文件描述符的最大数量</block>
  <block id="8fe282d6211426a6fd01df906b39997d" category="paragraph">为了获得最佳性能和可靠性，您可以增加所有节点上 XCP 用户的最大打开文件描述符数。</block>
  <block id="167c2c4b3e4b8252ac2e7a794d520b60" category="list-text">使用以下命令打开文件： `vi /etc/security/limits.conf`</block>
  <block id="e86a0c50969f69caaf0846c01183351b" category="list-text">将以下行添加到文件中： ` &lt; 用户名 &gt; - nodfile 999999`</block>
  <block id="0db61995ae463b2910371fdee152cb88" category="inline-link-macro">Red Hat 解决方案</block>
  <block id="ccdcaa8e5fef5673db21a65af6bc516b" category="paragraph">请参见 <block ref="86f0b7d75368fee2dcdb28d15e03688c" category="inline-link-macro-rx"></block> 有关详细信息 ...</block>
  <block id="258c43132f7d0ee8dca2932b84e55383" category="summary">XCP 还提供了一些其他 NFS 功能，这些功能可以轻松更改任何 NFS 共享或 POSIX 路径中文件和目录的所有权和权限。</block>
  <block id="ce0d872fae9d962e1e9e1ff7397f5840" category="doc">其他 NFS 功能</block>
  <block id="c353351e2cab6270e61ca76351aa5192" category="paragraph">在更改文件的所有权之前，必须配置新所有者。否则，此命令将失败。XCP `chown` 和 `chmod` 命令的工作方式与 Linux `chown` 和 `chmod` 命令类似。</block>
  <block id="c8f43293a0d371a440cac8bb93307056" category="section-title">chmod</block>
  <block id="ed4ffa57a1bdcb56aaf1d22b8d722821" category="paragraph">有关详细信息，请运行 `XCP help chmod` 命令。</block>
  <block id="845fbaad258ca858251e4c4c0ad53eb0" category="section-title">chown</block>
  <block id="8fa3ac473e7edac7e52a655e5271e49f" category="paragraph">有关详细信息，请运行 `XCP help chown` 命令。</block>
  <block id="fe3babe18b970588464b8384c50d8cb3" category="paragraph">`scan` 命令可递归扫描整个 SMB 共享，并在扫描结束时列出所有文件。</block>
  <block id="e7cd4019e47684c4ac82ed229910b175" category="admonition">在扫描操作期间，您可以将 ` -preserve-atime` 标志与 `scan` 命令结合使用，以保留源的访问时间。</block>
  <block id="de71db72eafd60fc2c3c26a9416f0909" category="list-text">对于 NFSv4 ACL 迁移， NFSv4 要求对需要迁移 ACL 的卷使用编码语言 UTF-8 。</block>
  <block id="3f2483126bfaf4f145dc2ccaaf50a96d" category="cell">使用针对`XCP_config_DIR`变量设置的位置</block>
  <block id="422b2633c200093920a3504cacd40ac4" category="list-text">将文件命名为`xcpLogConfig.json`并将其保存到默认位置：/opt/netapp/xFiles/XCP/</block>
  <block id="5a80d55457d11b6a6649cb8e31a68ae9" category="paragraph">如果设置了`XCP_config_DIR`环境变量、请将`xcpLogConfig.json`文件保存在与`XCP_config_DIR`变量设置的相同位置。</block>
  <block id="eeb488eb1940aa6eb63fb96f6766209e" category="paragraph">`ssh-keygen -b 2048 -t rsa -f /root/.ssh/id_rsa -q -N '`</block>
  <block id="6fa3c056ccd312364628a9d8779047d9" category="paragraph">`ssh-copy-id -i /root/.ssh/id_rsa.pub root@worker1`</block>
  <block id="e5970308b839bb1af1aefcf9dad2fed2" category="paragraph">环境变量`Xcp_config_DIR`会覆盖默认位置`/opt/netapp/xFiles/XCP`。如果设置，则值应为操作系统文件系统路径，可能是挂载的 NFS 目录的路径。设置`XCP_config_DIR`变量后、将在自定义配置目录路径中创建一个与主机名同名的新目录、并将新日志存储在此位置。</block>
  <block id="193182b59524f80db2dfb99b91b8e2d2" category="paragraph">环境变量`Xcp_log_DIR`会覆盖将XCP日志存储在配置目录中的默认位置。如果设置，则值应为操作系统文件系统路径，可能是挂载的 NFS 目录的路径。设置`Xcp_log_DIR`变量后、将在自定义日志目录路径中创建一个与主机名同名的新目录、并将新日志存储在此位置。</block>
  <block id="f9c9daf8c094d7173f6aa05e00e89394" category="paragraph">环境变量`Xcp_catalog _path`会覆盖xcp.in中的设置如果设置，则此值应采用 XCP 路径格式 `server ： export[ ：子目录 ]` 。</block>
  <block id="0b5b78e477505196ea9cd8e57fe855fd" category="list-text">在ONTAP 中、您可以使用诊断`-atime-update`选项在源对象上保留atime。此功能仅在 ONTAP 中可用，如果您希望在运行 XCP 时在源对象中保留 atime ，则此功能非常有用。</block>
  <block id="9d2ab81c393d1ef2f0a8cefba68af9a1" category="list-text">在XCP中、您可以使用`-preserve-atime`选项在源对象上保留atime。此选项可用于访问源对象的所有命令。</block>
  <block id="fba36a51a969015158fea284508e24b5" category="paragraph">XCP包括一些其他NFS功能。</block>
  <block id="5b014105285dfb3396658b56a0e6a980" category="section-title">chown和chmod</block>
  <block id="e502bd5d6fd36f24fe83faf495b01250" category="paragraph">您可以使用 XCP `chown` 和 `chmod` 命令以递归方式更改给定 NFS 共享或 POSIX 路径的所有文件和目录。这样可以提高数百万个文件的性能。</block>
  <block id="09d12addf13fc84e75f41dc976e24bd2" category="paragraph">`chmod` 命令可扫描并更改选定目录结构中所有文件的文件权限。`chmod`命令需要模式或引用以及NFS共享或POSIX路径作为变量。XCP `chmod` 递归更改给定路径的权限。您可以使用 `chmod` 命令显示扫描的总文件数以及输出中已更改的权限。</block>
  <block id="d36f032e221f3900149f9473b5c0ce4f" category="paragraph">您可以使用XCP `chown`命令以递归方式更改给定NFS共享或POSIX路径的所有文件和目录。这样可以提高数百万个文件的性能。</block>
  <block id="a0b553d099f15801f1726ee64318e949" category="paragraph">`chown` 命令可扫描并更改选定目录结构中所有文件的所有权。`chown`命令需要使用NFS共享或POSIX路径作为变量。XCP `chown`递归更改给定路径的所有权。</block>
  <block id="d9b1d76e05f593fa781c1a1da0c9012b" category="list-text">与使用 NFSv3 TCP 插槽的 XCP 相比， POSIX 连接器更安全。</block>
  <block id="18f2ba0369aea7a98cca4c137d4b6372" category="paragraph">要运行 HDFS `copy` 命令，您必须在 Linux 系统上设置 HDFS 客户端，并根据 Hadoop 供应商，按照 Internet 上提供的设置配置进行操作。例如、您可以使用`https://docs.datafabric.hpe.com/60/AdvancedInstallation/SettingUptheClient-redhat.html`为MapR集群设置客户端。</block>
  <block id="5477a542a80c11f2da04e8a045970ccc" category="section-title">XCP问题和解决方案</block>
  <block id="ee919e739e668a270db61ab6e8e94e16" category="cell">您正在尝试对使用早于XCP 1.9的XCP版本生成的索引执行操作。不支持此操作。建议完成所有正在进行的迁移、然后切换到此版本的XCP。或者、您也可以重新运行`scan`、`copy`或`verify`命令、以使用XCP 1.9生成新索引。</block>
  <block id="78e3c3d20c30f31e40219bc4fc26d005" category="section-title">日志转储</block>
  <block id="f2223b790f3262b778f881ea47ce4191" category="paragraph">如果您遇到使用XCP命令或作业的问题描述 、则可以使用`logdump`命令将与问题描述 相关的日志文件转储到一个`.zip`文件中、该文件可发送给NetApp进行调试。`logdump`命令会根据迁移ID或作业ID筛选日志、并将这些日志转储到当前目录中的`.zip`文件中。`.zip`文件的名称与命令中使用的迁移或作业ID相同。</block>
  <block id="f6e8987d5e2d203c406379ba9e8b8a47" category="admonition">迁移后、如果使用`Xcp_config_DIR`或`Xcp_log_DIR`环境变量覆盖默认配置位置或日志位置、则在使用旧迁移或作业ID时、`logdump`命令将失败。要避免这种情况、请使用相同的日志路径、直到迁移完成。</block>
  <block id="8d199d68726e0baa3da715584c92e083" category="admonition">XCP二进制文件具有代码签名。有关详细信息、请参见`NetApp_XCP_&lt;version&gt;.tgz`中的自述文件。</block>
  <block id="259c9d5f301d6e350422d2ebfe2bcc87" category="cell">验证您的系统是否可以对安装了XCP文件分析且HTTPD正在运行的Linux计算机执行ping操作。如果服务未运行，请运行 `configure` 并选择修复选项。验证您使用的浏览器版本是否受支持。请参见 <block ref="277e95e57632f1d20d4cd8ea672c1493" category="inline-link-macro-rx"></block>。</block>
  <block id="bfccbf3e891050373f71f1230130222b" category="cell"><block ref="ad3b549c4b03e0598dee96d17d3ccc66" prefix="" category="inline-code"></block>：比较批处理：索引文件不兼容。请仅使用当前版本的XCP生成的索引文件。或者、您也可以从xcp.netapp.com下载旧版XCP二进制文件。</block>
  <block id="481da41cf08734ac99d07aca58644781" category="cell"><block ref="6d7d8e19dacf4142870d92b873503ded" prefix="" category="inline-code"></block></block>
  <block id="410bc026d79ee8d7b9f82dd6b03feb98" category="list-text">登录到文件分析图形用户界面。</block>
  <block id="fce3933747223b348680fa7fa109330b" category="paragraph">可以通过两种方式登录到文件分析图形用户界面：</block>
  <block id="69bb9c4e14480c847abc95d5c42499ad" category="admonition">SSO登录是可选的、可以永久配置和启用。要设置基于安全断言标记语言(SAML)的SSO登录、请参见 <block ref="24bd22f7d0a05b19a03434bac975689d" category="inline-xref-macro-rx"></block>。</block>
  <block id="bb589a1b8201c2239ba76232e361cafc" category="section-title">配置SSO凭据</block>
  <block id="fffd3dfdf9fa53044cdb134dcc69c528" category="paragraph">SSO登录功能在使用SAML的XCP文件分析中实施、并受Active Directory联合身份验证服务(Active Directory Federation Services、ADFS)身份提供程序支持。SAML会将身份验证任务卸载到企业的第三方身份提供程序(IdP)、该程序可利用任意数量的MFA方法(多因素身份验证)。</block>
  <block id="f2d88d647c936a165a3e77edcbea1d96" category="list-text">向企业身份提供程序注册XCP文件分析应用程序。</block>
  <block id="1f93f245c9251dd40bbdd43eacc5372c" category="paragraph">文件分析现在以服务提供商的身份运行、因此必须向企业身份提供商注册。通常、企业中有一个团队负责处理此SSO集成过程。第一步是找到相关团队并联系他们、并与他们共享文件分析应用程序元数据详细信息。</block>
  <block id="2fa5a2b9e39c8c52b4712c4defadf219" category="paragraph">以下是向身份提供程序注册时必须共享的必填详细信息：</block>
  <block id="9563382993688c51fdc3a46e81eb172f" category="list-text">*服务提供商实体ID：*<block ref="e1fe6adfd56c8994795ceb238170e3b4" prefix=" " category="inline-code"></block></block>
  <block id="bf1e51171726684d1ee1b309557acd01" category="list-text">*服务提供商断言使用者服务(ACS) URL：*<block ref="21d0fedea22f326cba161956dc12f67c" prefix=" " category="inline-code"></block></block>
  <block id="f57c5b8986c37b4a0952ba786b74f802" category="paragraph">您也可以登录到文件分析UI来验证这些详细信息：</block>
  <block id="ccd1f9a4a3996dec7dcc1222859ee8f1" category="list-text">选择页面右上角的*用户*图标、然后选择* SAML设置*。</block>
  <block id="363cae04551b1b1a61f8792a42d5332c" category="paragraph">在显示的下拉菜单中选中*服务提供商设置*。</block>
  <block id="957c109b84ab3a9745776f942062afea" category="inline-image-macro">SAML设置示例</block>
  <block id="231aa7872617b02f47d61c8a448d71d3" category="paragraph">注册后、您将收到企业的IdP端点详细信息。您需要向文件分析UI提供此IdP端点元数据。</block>
  <block id="0fabd32fee9ac3582435784332323cf0" category="list-text">提供IdP详细信息：</block>
  <block id="13cdf4657d47700947243dc2788b7179" category="list-text">转至 * 信息板 * 。选择页面右上角的*用户*图标、然后选择* SAML设置*。</block>
  <block id="d8adeda321a41aaa17a27edc3b9f91af" category="list-text">输入注册后获取的IdP详细信息。</block>
  <block id="632a19fe4f9dbcb608d0fc15adce1abd" category="inline-image-macro">IdP设置示例</block>
  <block id="d9f5a9253d4897150b89f01bd1fff5b8" category="paragraph"><block ref="d9f5a9253d4897150b89f01bd1fff5b8" category="inline-image-macro-rx" type="image"></block></block>
  <block id="52a2204afc476b63dc6724a5bd0b634b" category="list-text">选中*启用SAML *复选框以永久启用基于SAML的SSO。</block>
  <block id="10492389e94efdebbb66f7b0cd8a1324" category="list-text">选择 * 保存 * 。</block>
  <block id="280adca2af76ab2f6d95dd020df20c76" category="list-text">注销文件分析并重新登录。</block>
  <block id="26fe07940d9a7bac7605ee7fc243d89a" category="paragraph">系统会将您重定向到企业SSO页面。</block>
  <block id="c1f4df75471b19c987dbe105102a06b3" category="paragraph-title">设置HDFS连接器</block>
  <block id="e8ecd4ac92f1665c72c96cf750e9a180" category="paragraph-title">路径语法</block>
  <block id="71b54d34b9a2e562b60a5f348143df04" category="paragraph-title">设置多节点横向扩展</block>
  <block id="e275d5c35bd98d51f375595425721b8e" category="paragraph-title">最大启动数</block>
  <block id="4fc18ed56b82e48babebaac5b07abd72" category="paragraph-title">nodes.ini"文件</block>
  <block id="08ad268a318e49778022d6aa0d84e057" category="paragraph-title">将POSIX和HDFS连接器、多节点横向扩展和安全功能相结合</block>
  <block id="c7d37295c1bdef1e9ae306db70634663" category="cell">XCP不支持将基线或增量Snapshot副本操作与实时源迁移结合使用。</block>
  <block id="dbef0b1dd5263aa13674ecebca1b7756" category="cell">实时源迁移</block>
  <block id="93571d5812c4c39edcca3e27487acbe9" category="cell">XCP不支持在迁移期间修改源卷上的数据。</block>
  <block id="61355ec3f68ee20926a222027dcb3d7b" category="list-text">XCP主机系统：XCP主机用户必须具有管理员权限(该用户必须属于目标SMB服务器上的"BUILTIN\Administrators "组)。</block>
  <block id="7cde6d7e5e7b73d42bf2ff05514668fe" category="cell">成功安装后、无法访问此站点或用户登录失败。</block>
  <block id="7e8faa040a3429cd75dbc9dfed43bac0" category="list-text">检查XCP服务是否正在运行：<block ref="47541872bcdb6b08aeadea6f58c6ebd3" prefix=" " category="inline-code"></block></block>
  <block id="d311ee2390d292b3694c8f669889041c" category="list-text">启动XCP侦听操作并确认没有错误：</block>
  <block id="a819ba1b3efc04fee9100a7ab0ee93ca" category="paragraph"><block ref="a73ccca27c22e20f2b42c66b62244db5" prefix="" category="inline-code"></block></block>
  <block id="6f59af5df257d27f8f7f83e150cb44c7" category="list-text">如果看到以下错误、请使用yum安装CodeReady软件包、例如<block ref="195584d46184f28385e2ae5bd9f0af62" prefix=" " category="inline-code"></block>：</block>
  <block id="b326b5062b2f0e69046810717534cb09" category="cell">true</block>
  <block id="f11ba2ba1e8e44e293e56351fbc05edf" category="doc">在同一XCP主机上运行多个XCP作业</block>
  <block id="d9647e192eec469f5ef0ff6b04e9a7f0" category="section-title">最低系统要求</block>
  <block id="9901879377c5f3682a62b2348ecc14ad" category="paragraph">对于每个XCP作业、您应最多允许64 GB主机内存和八个核心用于大中型迁移。</block>
  <block id="8db7df66ab1d7ab5f1dc947acdb5fae4" category="section-title">日志记录</block>
  <block id="6c5503e1799fc9bf884095cb4a7486c7" category="paragraph">默认情况下、每个XCP作业都记录在一个单独的日志文件中、该日志文件对于作业ID是唯一的。如果在同一台主机上运行多个作业、则此日志记录机制可以正常运行。NetApp建议不要更改<block ref="1f0167cf593b01d4e8c31f9bea306a0d" prefix=" " category="inline-code"></block> 要使用单个的文件<block ref="4bfa73c989008743279ae857adc50faf" prefix=" " category="inline-code"></block> 用于记录在同一主机上并行运行的多个XCP作业的文件。</block>
  <block id="26807eaed63a31814a5e1753d72676d8" category="section-title">支持的命令</block>
  <block id="644834e9d0415e057f1d7c2c00cdd281" category="list-text"><block ref="53aefec08170b2ebed981a0a86d0dbe0" prefix="" category="inline-code"></block></block>
  <block id="cf1b3b1776d0d05e295618646490b382" category="list-text"><block ref="12cba3ee81cf4a793796a51b6327c678" prefix="" category="inline-code"></block></block>
  <block id="d64d8a3c311a3e34d98c5d12b0de2deb" category="list-text"><block ref="69f2afc2390cec954f7c208b07212d39" prefix="" category="inline-code"></block></block>
  <block id="39c754f7316412b5101d1266f8f9b259" category="list-text"><block ref="e8418d1d706cd73548f9f16f1d55ad6e" prefix="" category="inline-code"></block></block>
  <block id="0ac5b3cfaad7fc2ecd24fa0fc221ea9d" category="list-text"><block ref="a3e4a767ccc698fa80ecaf42af64deea" prefix="" category="inline-code"></block></block>
  <block id="456a5abc7727a436e67e4a218e2a4508" category="list-text"><block ref="417e248f80c35ca0d471575a5fb951f5" prefix="" category="inline-code"></block></block>
  <block id="7bfde840c21e45a59701f55f5c18ef2c" category="list-text"><block ref="4de53f769603f8e4542ee3267c08dd50" prefix="" category="inline-code"></block></block>
  <block id="3649b15e31d22a1e2210f014d843b9fa" category="list-text"><block ref="099af53f601532dbd31e0ea99ffdeb64" prefix="" category="inline-code"></block></block>
  <block id="777dd634078a1b960c79f15d2522db38" category="section-title">不支持的命令</block>
  <block id="32ae6defbd536645e75bc85121b5564b" category="section-title">命令示例</block>
  <block id="bdf61b3ecae5f29d6c6b402c1adf2536" category="section-title">XCP估计</block>
  <block id="e151d1ab502d96991c424c6cbefae2f7" category="paragraph">XCP估计功能用于估计完成基线的时间<block ref="12cba3ee81cf4a793796a51b6327c678" prefix=" " category="inline-code"></block> 从源到目标的操作。它会计算完成基线的估计时间<block ref="12cba3ee81cf4a793796a51b6327c678" prefix=" " category="inline-code"></block> 操作。使用时<block ref="a02d29476c13ce0a516e16bcfe4535b6" prefix=" " category="inline-code"></block> 选项中、XCP会运行示例复制操作以查找估计时间。</block>
  <block id="f943fe60d92b33d799a2c02de9061e3b" category="summary">通过S3连接器、XCP可以将数据从NFS或HDFS文件系统迁移到S3对象存储</block>
  <block id="92095cc1ef432ed93af95b88d3e3b625" category="doc">配置S3连接器</block>
  <block id="16933dfe56aff83cb6998c3667c2f0cf" category="paragraph">从XCP 1.1.2开始、Simple Storage Service (S3) Connector可以将数据从Hadoop分布式文件系统(HDFS)文件系统迁移到S3对象存储、从而扩大了XCP数据迁移的范围。</block>
  <block id="677857bd3ebd1f41c85f70280b227d8f" category="paragraph-title">支持的迁移用例</block>
  <block id="ed0f619faede22039440d1fe21bcb0e9" category="paragraph">S3连接器支持以下迁移用例：</block>
  <block id="9caa7c5b602fa58bf008c08a7e479da6" category="admonition">目前、MapR仅适用于HDFS并受其支持。</block>
  <block id="d006b10e4564e8049b786f2138530862" category="paragraph">支持<block ref="53aefec08170b2ebed981a0a86d0dbe0" prefix=" " category="inline-code"></block>，<block ref="12cba3ee81cf4a793796a51b6327c678" prefix=" " category="inline-code"></block>，<block ref="e8418d1d706cd73548f9f16f1d55ad6e" prefix=" " category="inline-code"></block>，<block ref="69f2afc2390cec954f7c208b07212d39" prefix=" " category="inline-code"></block> 和<block ref="099af53f601532dbd31e0ea99ffdeb64" prefix=" " category="inline-code"></block> 命令可用于S3连接器。</block>
  <block id="c29d1e0e67cc2410608faeefbb62dcb8" category="paragraph-title">不支持的功能</block>
  <block id="9627eb5a42d84d5c63b7319f5d296ebc" category="paragraph">支持<block ref="63ad9d34f3503826e5f649ae6b7ac92c" prefix=" " category="inline-code"></block> 命令不适用于S3连接器。</block>
  <block id="472fe12a7f2ae7888f36faddba8e5e65" category="paragraph">S3连接器的路径语法为<block ref="aa0fb791d7b6f79654dd107dbd476a65" prefix=" " category="inline-code"></block>。</block>
  <block id="68549dc967c92035106a77e7439be9ba" category="list-text">您可以使用为XCP命令提供特定的S3配置文件<block ref="4000828b83c0a87531b7ca1caac052b3" prefix=" " category="inline-code"></block> 选项</block>
  <block id="41088e7d7bed6fb65fd0ce680e35aff1" category="list-text">您可以使用<block ref="9dd62310fbf791aca68053dbd7c2e4d8" prefix=" " category="inline-code"></block> 用于修改端点值以与S3通信的选项</block>
  <block id="d7442f0f9efd2ca279443c52c914b251" category="admonition">StorageGRID和ONTAP S3必须使用端点。</block>
  <block id="0237d634875999d360d9efab9c63589c" category="section-title">设置S3连接器</block>
  <block id="f30387763ef5dc8495245b22c3826788" category="list-text">要使用S3连接器运行XCP命令、请按照相应平台的联机文档在S3中创建一个分段：</block>
  <block id="5fdb600d07b3f6deb635e013a137473b" category="inline-link-macro">ONTAP S3对象存储管理</block>
  <block id="649ef27cf067f5fae3e9c0657c2a071f" category="list-text"><block ref="649ef27cf067f5fae3e9c0657c2a071f" category="inline-link-macro-rx"></block></block>
  <block id="f16122d47aa9bddb63b76f4f73a13587" category="inline-link-macro">StorageGRID：使用租户帐户概述</block>
  <block id="59a9d1ab7b45926d308d68d7e6f49a67" category="list-text"><block ref="59a9d1ab7b45926d308d68d7e6f49a67" category="inline-link-macro-rx"></block></block>
  <block id="ea10e86fc2f564a6f297ea6c75c8f92e" category="admonition">在继续操作之前、您必须拥有<block ref="c005759b4dfbaa83c83b8fdc155c3493" prefix=" " category="inline-code"></block>，<block ref="a7656fafe94dae72b1e1487670148412" prefix=" " category="inline-code"></block>、证书颁发机构(CA)证书包、和<block ref="975877452f21015e24a0ec58b6b66541" prefix=" " category="inline-code"></block> 信息。在启动操作之前、XCP会使用这些参数识别并连接到S3存储分段。</block>
  <block id="55de7793cb50b93dbda01a2a32ec9f46" category="list-text">安装Amazon Web Services (AWS) CLI软件包并运行AWS CLI命令为S3帐户配置密钥和安全套接字层(SSL)证书：</block>
  <block id="bf3e5f3e0a2a1a0a56fe8915d5125419" category="inline-link-macro">安装或更新最新版本的AWS命令行界面</block>
  <block id="47f387d5114be0a75243893de72ede38" category="list-text">请参见 <block ref="7d6aab052f74c1d885fa43336d7be563" category="inline-link-macro-rx"></block> 安装AWS软件包。</block>
  <block id="38d05d307b3ed600922427e3a1dd49a9" category="inline-link-macro">AWS CLI命令参考</block>
  <block id="b707c05877e41f501e5064a02f164115" category="list-text">请参见 <block ref="ad30b84b7cb0e002f342b12435baea56" category="inline-link-macro-rx"></block> 有关详细信息 ...</block>
  <block id="7f690876f3db4f29ba95620b570b48c2" category="list-text">使用<block ref="329dfd38b6589b9bc6d49cf9e785f35b" prefix=" " category="inline-code"></block> 命令以配置凭据文件。默认情况下、文件的位置为<block ref="40f203cedcd08f7589920d1a469a96d9" prefix=" " category="inline-code"></block>。凭据文件应指定访问密钥和机密访问密钥。</block>
  <block id="382e42ce21e494705ff831f135606bde" category="list-text">使用<block ref="42579c91711a0d7831c6aec42c478881" prefix=" " category="inline-code"></block> 命令以指定CA证书包、该证书包是带有的文件<block ref="bdf46f9562b038d0163af0feba0b1dfa" prefix=" " category="inline-code"></block> 验证SSL证书时使用的扩展。默认情况下、文件的位置为<block ref="5f5f86503ef335bfb468ac44a0e77d00" prefix=" " category="inline-code"></block>。</block>
  <block id="228242e9d19fdb954d00a277118e2f18" category="list-text">完成所需的设置配置后、确认AWS命令行界面命令可以从Linux客户端访问S3存储分段、然后再运行XCP命令：<block ref="0b3502a40565c7026d8c433e11ba15b9" prefix=" " category="inline-code"></block></block>
  <block id="6e457e419b169c5c14b03b5e07a2f21b" category="paragraph"><block ref="0d53497a4b61eeaa925b42c377a42eae" prefix="" category="inline-code"></block></block>
  <block id="d406f518749cb0808f4c4f13d1b7ab92" category="cell">如果NFS服务器共享路径名称中包含一个或多个冒号、请使用双冒号(：：)而不是单个冒号(：)分隔NFS服务器IP和NFS服务器共享路径。</block>
  <block id="ec95d5f1b4ea1a01d2a072ab802d2e2e" category="cell">之后、SnapLock卷不会保留WORM文件<block ref="e64df9c2f5a72d0adb1dbea21a609c16" prefix=" " category="inline-code"></block> 操作。</block>
  <block id="b939754165d55d04968e3d8581c06ff3" category="paragraph">XCP会成功将WORM文件复制到卷、但SnapLock卷不会保留这些文件。</block>
  <block id="1723c364ac2943db169228e83d339a34" category="list-text">执行<block ref="e64df9c2f5a72d0adb1dbea21a609c16" prefix=" " category="inline-code"></block> 从源卷到目标卷的操作：<block ref="958bd1007a36c3c49dc7ee93fd734a4c" prefix=" " category="inline-code"></block></block>
  <block id="0ec0ae00838a2eee9dcb4e55279286f7" category="list-text">使用<block ref="80cd6575aba36d362f140cdde0c55e70" prefix=" " category="inline-code"></block> 命令将目标卷上的文件权限更改为*readonly*：<block ref="ed04d0d005c97df67ef52b0ad8aa0517" prefix=" " category="inline-code"></block></block>
  <block id="83522b3c501a3f48b27f9b264cae4599" category="paragraph">完成上述步骤后、SnapLock卷将开始保留复制的文件。</block>
  <block id="72400cb7d5b84ae782642ca107c294fc" category="inline-link-macro">设置保留时间</block>
  <block id="d6ac9450dbf2c0861efd5a5ef5115f7e" category="admonition">SnapLock卷的保留时间受卷的默认保留策略控制。在开始迁移之前检查卷保留设置： <block ref="fd0c10595d24f7804e14135a6730866f" category="inline-link-macro-rx"></block></block>
  <block id="d3153df9c554c9b6a863ef3e5a6b6e13" category="doc">准备XCP安装</block>
  <block id="4d41b0dcb8b6747f8cec345d418abd0b" category="paragraph">在准备安装时、您需要下载XCP、获取许可证并准备系统。</block>
  <block id="0a009b2626b03b4c70bb4dcb73832482" category="doc">用于迁移NFS数据的命令</block>
  <block id="322df0ac50172a48935aaba57e5dee70" category="cell">请参见 <block ref="277e95e57632f1d20d4cd8ea672c1493" category="inline-link-macro-rx"></block> XCP文件分析所有受支持浏览器版本的列表。</block>
  <block id="8ba09dc2aec500b8eabed3efd8eb8bc9" category="summary">迁移HDFS数据</block>
  <block id="ea6a8ab5a9e8b23dc8df0571125234f4" category="paragraph">。<block ref="12cba3ee81cf4a793796a51b6327c678" prefix=" " category="inline-code"></block> 命令会扫描整个源Hadoop分布式文件系统(Hadoop Distributed File System、HDFS)数据并将其复制到NFS或简单存储服务(Simple Storage Service、S3)分段。。<block ref="12cba3ee81cf4a793796a51b6327c678" prefix=" " category="inline-code"></block> 命令要求将源路径和目标路径作为变量。扫描和复制的文件、吞吐量、速度和已用时间详细信息将显示在复制操作结束时。</block>
  <block id="beea424f6b4dbe034f0047f1f1a1cd57" category="paragraph">*NFS路径示例:*</block>
  <block id="02880d02dff3a15e38a0afe75b110262" category="paragraph">*S3路径示例:*</block>
  <block id="3f2c3abdeca240c2063183e75fa45805" category="paragraph">。<block ref="69f2afc2390cec954f7c208b07212d39" prefix=" " category="inline-code"></block> 命令通过指定目录索引名称或编号来重新启动先前中断的复制操作。上次复制操作的目录索引名称或编号存储在中<block ref="cbd55302f2990d9880a35e0bd8c4b3e9" prefix=" " category="inline-code"></block> 目录。</block>
  <block id="8c81ddc94b60eaab22662db017644a72" category="admonition">默认情况下、XCP<block ref="69f2afc2390cec954f7c208b07212d39" prefix=" " category="inline-code"></block> 命令使用期间使用的副本索引中的S3端点和S3配置文件<block ref="12cba3ee81cf4a793796a51b6327c678" prefix=" " category="inline-code"></block> 命令：但是、如果是新的<block ref="35a45c3d02a8bdde44197b27cf839c10" prefix=" " category="inline-code"></block> 和<block ref="4000828b83c0a87531b7ca1caac052b3" prefix=" " category="inline-code"></block> 值随提供<block ref="69f2afc2390cec954f7c208b07212d39" prefix=" " category="inline-code"></block> 命令中、将使用选项的新值以及副本中使用的值<block ref="1dccadfed7bcbb036c56a4afb97e906f" prefix=" " category="inline-code"></block> 被覆盖。</block>
  <block id="bea3d8136ac916a4d71a0db1cd54135f" category="paragraph">。<block ref="e8418d1d706cd73548f9f16f1d55ad6e" prefix=" " category="inline-code"></block> 命令会在执行复制操作后对源目录和目标目录进行逐字节完整数据比较、而不使用目录索引编号。命令读取两端的文件并比较数据。</block>
  <block id="e3a7bb54039414508e91e2b8caab6243" category="paragraph">。<block ref="a7dd12b1dab17d25467b0b0a4c8d4a92" prefix=" " category="inline-code"></block> 命令用于查询一个或多个存储服务器的RPC服务和NFS导出。命令将列出可用服务和导出，并列出每个导出的已用容量和可用容量，然后列出每个导出的根属性。</block>
  <block id="0c8146ca9bdd9f9a3083cbeed24e27a5" category="paragraph">。<block ref="53aefec08170b2ebed981a0a86d0dbe0" prefix=" " category="inline-code"></block> 命令会以递归方式扫描源NFS3导出的整个路径、并在扫描结束时输出文件结构的统计信息。NetApp 建议在扫描操作期间将源 NFS 导出挂载置于只读模式。</block>
  <block id="6a95fc6c0382de222dd433886d475460" category="list-text"><block ref="48ac1e589150949f3ebe6a2bb7730a73" prefix="" category="inline-code"></block></block>
  <block id="af1d56f5c43bf1720e9a92f5de20bb23" category="doc">规划HDFS数据迁移</block>
  <block id="7d79a1639a9506966de268ebe5ea7da7" category="paragraph">规划HDFS数据迁移。</block>
  <block id="3943abc3700d0fc7d672d7c1e82fcb26" category="paragraph">。<block ref="53aefec08170b2ebed981a0a86d0dbe0" prefix=" " category="inline-code"></block> 命令以递归方式扫描整个源路径、并在扫描结束时输出文件结构的统计信息。</block>
  <block id="dd0cd3eb63043850b57e374170b7dfe2" category="list-text"><block ref="1be5ff729f9dfef8516c12abbd49a5a9" prefix="" category="inline-code"></block></block>
  <block id="fd72c03485ab8cb65dd065e28ac144b3" category="list-text"><block ref="e79e3cc99b073c66e94d8ad89bc3ba4e" prefix="" category="inline-code"></block></block>
  <block id="74e963cc1be7bd9eb54760a83863926c" category="list-text"><block ref="31aabc9596cc7a7ef0c9a62732d77a5a" prefix="" category="inline-code"></block></block>
  <block id="bb0399f427aed863042c042b142bd6cb" category="cell">NFS到S3迁移</block>
  <block id="240cf8fae0436b28ece1e12030b38e4e" category="cell">XCP不支持从NFS迁移到S3。</block>
  <block id="fe55abf5fae19db6a828fd5ca392b6b7" category="cell">同一主机上的多个XCP实例</block>
  <block id="8b967b2a58b58d36b79d41009ec9f64b" category="cell">在同一主机上运行多个XCP实例时、可能会出现不可预测的结果。</block>
  <block id="6e17cc1c2c681736d2ceb6e979223245" category="paragraph">以下功能不适用于Hadoop分布式文件系统(HDFS)连接器：</block>
  <block id="f540f493fb0a9e9093687015a52af134" category="cell">支持<block ref="63ad9d34f3503826e5f649ae6b7ac92c" prefix=" " category="inline-code"></block> 命令</block>
  <block id="04047e38150b589ef73f2cf1a47dcbfa" category="cell">HDFS连接器不支持<block ref="63ad9d34f3503826e5f649ae6b7ac92c" prefix=" " category="inline-code"></block> 命令：</block>
  <block id="2cfceda72756239fb550ad6bf9cb21a3" category="cell">符号链接(符号链接)和硬链接支持</block>
  <block id="9913e624c49a17211b2bfade4f81e5a6" category="cell">HDFS文件系统不支持符号链接、硬链接或特殊文件。</block>
  <block id="e094f0017c23fc66e41a73d4c778d988" category="cell">实时源HDFS迁移</block>
  <block id="f3b812b32fdce09d7d06a9a0759b8546" category="cell">XCP不支持在迁移期间修改源HDFS文件系统上的数据</block>
  <block id="e8a90b649b22fddc82d6ee4cc9429807" category="paragraph">以下功能不适用于Simple Storage Service (S3)连接器：</block>
  <block id="84b02ee2d0524eb08de32d9354ade34b" category="list-text">*以S3存储分段作为源的迁移*：XCP不支持以S3存储分段作为源的迁移。</block>
  <block id="b179bbcf6f57100cffb18d2558916e9d" category="cell">64位Intel或AMD服务器、至少8个核心和64 GB RAM</block>
  <block id="11db15a14a5186a893fe15b0e03f3213" category="sidebar">在同一主机上运行多个XCP作业</block>
  <block id="ac1b0e3122e91e04b7f9d9e2eea0accb" category="paragraph">NetApp提供一年免费XCP许可证。您可以从获取许可证文件 <block ref="f33ccbb3083b14f48de92a286ba83724" category="inline-link-macro-rx"></block>。许可门户提供了不同的许可选项。一年后、您可以使用同一门户将许可证续订一年。</block>
  <block id="9351e261865c10b81be01c7298324b0f" category="list-text">从HDFS迁移到NetApp StorageGRID</block>
  <block id="c19152294b5e6dfeaa6ca9c77e0f12e1" category="list-text">从HDFS迁移到Amazon S3</block>
  <block id="3df8a75d6363358c9c30a90e1f018d65" category="list-text">从HDFS迁移到NetApp ONTAP S3</block>
  <block id="c1397a1836478812e944515ecd5ff969" category="cell">使用脱机许可证、而不是联机许可证。</block>
  <block id="747dd4d48798d325d388dd4ba57db561" category="cell"><block ref="e64df9c2f5a72d0adb1dbea21a609c16" prefix="" category="inline-code"></block> ACL迁移

xcp.log文件中记录的错误消息：<block ref="e2ac862df70b5c80b24bb2eb2b39bb13" prefix=" " category="inline-code"></block>：<block ref="da1b6bcd0d8118b98426d3a306332234" prefix=" " category="inline-code"></block></block>
  <block id="5b68f649e30aa676e6765ad7d93ced85" category="cell">与安全描述符相关的问题描述、因为迁移用户帐户仅具有XCP检索所有者、组和DACL所需的权限。无法检索SACL。
将您的迁移用户帐户添加到Active Directory中的"管理审核和安全日志"策略。
参考 <block ref="47c554f6b2ce744e50a1b2318fbe4ec3" category="inline-link-macro-rx"></block></block>
  <block id="60f3d88855f39291216e88879e7016bd" category="paragraph">本节详细介绍了在 Linux 客户端上首次设置 XCP 以及安装此 ini 文件配置的系统要求和过程。</block>
  <block id="8f9dd51720e75b125d13cc0941d2cb30" category="summary">NetApp XCP是一款基于客户端的软件、可实现可扩展的高性能数据迁移、以实现任意到NetApp以及从NetApp到NetApp的数据迁移和文件分析。</block>
  <block id="bb3aa4713d330863980f0c63bf214969" category="doc">NetApp XCP文档</block>
  <block id="a3f155c6d354f670674d0fefc33ab908" category="doc">规划数据迁移</block>
  <block id="30d965eef5ba25c6b9998ae38270b43e" category="doc">法律声明</block>
  <block id="e9c44bbfd795a5d63d74c6a77afee70d" category="paragraph">法律声明提供对版权声明、商标、专利等的访问。</block>
  <block id="6016a2b341113bf496b719905398ecd2" category="section-title">版权</block>
  <block id="52009bb7ee17227f566cd26a02caee56" category="inline-link-macro"><block ref="52009bb7ee17227f566cd26a02caee56" category="inline-link-rx"></block></block>
  <block id="a1a9afcf552a769c282769271829889a" category="paragraph"><block ref="a1a9afcf552a769c282769271829889a" category="inline-link-macro-rx"></block></block>
  <block id="126a02652da6de02962cf1b654fd6376" category="section-title">商标</block>
  <block id="c4ce4761e466527d26b3e3d5ed1006fd" category="paragraph">NetApp 、 NetApp 徽标和 NetApp 商标页面上列出的标记是 NetApp 、 Inc. 的商标。其他公司和产品名称可能是其各自所有者的商标。</block>
  <block id="f99aa604031e5049799e73b5c3748a98" category="inline-link-macro"><block ref="f99aa604031e5049799e73b5c3748a98" category="inline-link-rx"></block></block>
  <block id="5d545fe5152641e2ebe654e336e520e5" category="paragraph"><block ref="5d545fe5152641e2ebe654e336e520e5" category="inline-link-macro-rx"></block></block>
  <block id="be89498d2f8a22ce47c02ba9795fe2af" category="section-title">专利</block>
  <block id="d0b19d36be2c5f16e9aef46c8a452d3d" category="paragraph">有关 NetApp 拥有的专利的最新列表，请访问：</block>
  <block id="88e5eabd3917048b6927c42496b98f86" category="inline-link-macro"><block ref="88e5eabd3917048b6927c42496b98f86" category="inline-link-rx"></block></block>
  <block id="dd38f906b37d412de7d1c1dcf4cbf31c" category="paragraph"><block ref="dd38f906b37d412de7d1c1dcf4cbf31c" category="inline-link-macro-rx"></block></block>
  <block id="56c34c6410dd45c5cec44149ad0ce037" category="section-title">隐私政策</block>
  <block id="8acb58cbd50ef1b468a020ee0bd351d3" category="inline-link-macro"><block ref="8acb58cbd50ef1b468a020ee0bd351d3" category="inline-link-rx"></block></block>
  <block id="2352c4e1f4d0024ade0869e00e6243f4" category="paragraph"><block ref="2352c4e1f4d0024ade0869e00e6243f4" category="inline-link-macro-rx"></block></block>
  <block id="c0227cef6f07a8cd2ac72f2945b031aa" category="section-title">开放源代码</block>
  <block id="9b73989307c1975dfa4d5e1581e4afe8" category="paragraph">通知文件提供有关 NetApp 软件中使用的第三方版权和许可证的信息。</block>
  <block id="c2b224ab0d31234f6b60612f6540c534" category="inline-link-macro">NetApp XCP 1.9.2的通知</block>
  <block id="bb59aef0c9f5d2c9cdbd6a4f2f57242b" category="list-text"><block ref="bb59aef0c9f5d2c9cdbd6a4f2f57242b" category="inline-link-macro-rx"></block></block>
  <block id="2b83916321c793aeb5bffce5ddd49d3d" category="inline-link-macro">NetApp XCP 1.9.1的通知</block>
  <block id="dbc8e8be00730d6953956c8b0aa305cb" category="list-text"><block ref="dbc8e8be00730d6953956c8b0aa305cb" category="inline-link-macro-rx"></block></block>
  <block id="92e978f51b6854f19cb102afb6e7c7f9" category="inline-link-macro">NetApp XCP 1.9的通知</block>
  <block id="3503fc6ddb1aa6f7c157ac78bac45cbc" category="list-text"><block ref="3503fc6ddb1aa6f7c157ac78bac45cbc" category="inline-link-macro-rx"></block></block>
  <block id="ee797c259878f2839455105abb65106c" category="inline-link-macro">NetApp XCP 1.8.1的通知</block>
  <block id="d010dc762575a62b4743cdf67aaca20a" category="list-text"><block ref="d010dc762575a62b4743cdf67aaca20a" category="inline-link-macro-rx"></block></block>
  <block id="bb56f67a148cc2f2b0fefdf3ad31d862" category="inline-link-macro">NetApp XCP 1.8的通知</block>
  <block id="947d36e55b7e5eaafa3b9365e2c2f048" category="list-text"><block ref="947d36e55b7e5eaafa3b9365e2c2f048" category="inline-link-macro-rx"></block></block>
  <block id="be11c74c1dd7f307bb80183a90dc2067" category="sidebar">入门</block>
  <block id="7d0ee6fed10d3d4e5c9ee496729ab519" category="sidebar">发行说明</block>
  <block id="bb94e7367791f982596ac461b54c7eab" category="sidebar">NetApp XCP 1.9.1</block>
  <block id="1314b92278223dc2ab46c6dd8b3bf655" category="sidebar">NetApp XCP 1.9</block>
  <block id="0b883cd31dc0a70033ec3260cc84cde2" category="sidebar">NetApp XCP 1.8.1</block>
  <block id="c2349270a2c5b206946456729c613d88" category="sidebar">NetApp XCP 1.8</block>
  <block id="a6ec16db3258e39e9ea07a28c8bc6f0c" category="sidebar">NetApp XCP 1.7及更早版本</block>
  <block id="dfcc398099d6a64026e51ab282e16253" category="sidebar">更多资源</block>
  <block id="d00f838899e1bae3eeafc63b8e4a4be2" category="sidebar">NetApp TechCommTV (NetApp XCP视频)</block>
  <block id="e0805d6bd6649b148eb00741ca006a8d" category="sidebar">NetApp XCP (包括用于获取许可证的链接)</block>
  <block id="69325177d6c1169f9e91f28d3c39250a" category="sidebar">XCP的NetApp资源</block>
  <block id="05d2f8b110a50afd169a5d85f77bf23c" category="sidebar">NetApp社区(论坛)</block>
  <block id="c33c58a3b01e45d3964a4e2414a84970" category="paragraph">使用规划迁移之后<block ref="a7dd12b1dab17d25467b0b0a4c8d4a92" prefix=" " category="inline-code"></block> 和<block ref="53aefec08170b2ebed981a0a86d0dbe0" prefix=" " category="inline-code"></block> 命令中、您可以迁移SMB数据。</block>
  <block id="d1bf561d563aa7c75c975ba869dd56ac" category="paragraph">使用规划迁移之后<block ref="53aefec08170b2ebed981a0a86d0dbe0" prefix=" " category="inline-code"></block> 命令、则可以迁移HDFS数据。</block>
  <block id="715c4a9e063aa9667b43f7d5478b9037" category="paragraph">NetApp XCP是一款基于客户端的软件、可实现可扩展的高性能数据迁移、以实现任意到NetApp以及从NetApp到NetApp的数据迁移和文件分析。XCP旨在通过利用所有可用系统资源来管理海量数据集和高性能数据迁移、实现扩展并提高性能。XCP 可通过生成客户报告的选项帮助您全面了解文件系统。借助匹配和格式设置功能，您可以自定义报告以满足任何报告需求。</block>
  <block id="e42bfcdf0ad235b13c49f73caf47eb14" category="paragraph">使用规划迁移之后<block ref="a7dd12b1dab17d25467b0b0a4c8d4a92" prefix=" " category="inline-code"></block> 和<block ref="53aefec08170b2ebed981a0a86d0dbe0" prefix=" " category="inline-code"></block> 命令中、您可以迁移NFS数据。</block>
  <block id="e85e0a89230fd13a1a22301e7fdd0e5e" category="doc">XCP v1.4.3发行说明</block>
  <block id="d90e2bf5c75719e1544961b0bc5ad41c" category="paragraph">。 <block ref="62a6eb00e9937cb1874623411cd165a0" category="inline-link-macro-rx"></block> 描述新功能，升级说明，已修复的问题，已知限制和已知问题。</block>
  <block id="9a001090e66aa3b6396f3d4ed7942a29" category="admonition">如果文件或目录名称包含非UTF-8字符、则这些字符将转换为UTF-8格式、并在运行时显示<block ref="23147b001892247a3eeb087f6bfd481f" prefix=" " category="inline-code"></block> 命令：根据从源编码转换为UTF-8的情况、字符可能无法按预期显示。</block>
  <block id="779996940c0c39c72a1fd46bbcb0c25c" category="paragraph">要运行XCP 1.9.3及更高版本、您必须从获取新的XCP许可证 <block ref="f33ccbb3083b14f48de92a286ba83724" category="inline-link-macro-rx"></block>。</block>
  <block id="0c753cdaef3cedcd38fd31f543c8d76a" category="admonition">XCP 1.9.3及更高版本不支持与XCP 1.9.2及更早版本一起使用的许可证。同样、在XCP 1.9.2及更早版本中不支持与XCP 1.9.3及更高版本结合使用的许可证。</block>
  <block id="d0804a022efac2458fd8afd7432ab730" category="cell">请参见 <block ref="277e95e57632f1d20d4cd8ea672c1493" category="inline-link-macro-rx"></block> 支持的操作系统</block>
  <block id="23d2267c3060f49c5c4656d223c16500" category="section-title">登录到文件分析GUI</block>
  <block id="b12b7bf427a82f1b7594d8e9c0642749" category="paragraph">XCP文件分析GUI提供了一个信息板、其中包含用于可视化文件分析的图形。在 Linux 计算机上配置 XCP 时， XCP 文件分析图形用户界面将处于启用状态。</block>
  <block id="7144e9d44908ac1a1e2d5d18a661e2bd" category="list-text">选择隐私声明下方的*高级*。</block>
  <block id="8a8c4a7ad5df91ccdf4a658b580267a6" category="list-text">选择*继续<block ref="c40442705fd05f103d7897f22b0b9d54" prefix=" " category="inline-code"></block>*链接。</block>
  <block id="523c68391d340c09a68fbb25bc7b6cad" category="open-title">使用用户凭据登录</block>
  <block id="a6c68859111b43eac6f5a5ece12115ee" category="list-text">使用安装文件分析时获得的用户凭据登录到图形用户界面。</block>
  <block id="147e6d0fad459c620088e2ffe927734f" category="list-text">(可选)将密码更改为您自己的密码。</block>
  <block id="b2edd278ca1556cd65ff511dad1cff4b" category="paragraph">如果要将安装期间获得的密码更改为您自己的密码，请选择用户图标并选择*Change password*。</block>
  <block id="f95855c75bd72ef06a584880630a948a" category="paragraph">新密码长度必须至少为八个字符、并且至少包含一个数字、一个大写字母、一个小写字母和一个特殊字符(！@#$%^和*-_)。</block>
  <block id="59126595e3861c23ef1127db52d87bb2" category="admonition">更改密码后、系统会自动从GUI中注销、您必须使用创建的新密码重新登录。</block>
  <block id="11c9f8e61e36eaed8d3e1c1c7e200621" category="open-title">配置和启用SSO功能</block>
  <block id="bcac97375e974c11b495bce828d1a0ec" category="paragraph">您可以使用此登录功能在特定计算机上设置XCP文件分析、并在企业范围内共享Web UI URL、从而允许用户使用其单点登录(Single Sign On、SSO)凭据登录到UI。</block>
  <block id="2e4e4809dbbc27f75d2e60a86e2f0d6b" category="list-text">登录后、您可以看到NFS代理；绿色勾号显示Linux系统和XCP版本的最低系统配置。</block>
  <block id="82c1e69eb8d0968a34c018907e1f78e2" category="list-text">按照中所述的步骤登录到GUI <block ref="e05c6d6f0a0bb7cafe88d22482c70e47" category="inline-xref-macro-rx"></block>。</block>
  <block id="8257e8343d5cd665a40e90c03e8338d5" category="paragraph"><block ref="8257e8343d5cd665a40e90c03e8338d5" category="inline-image-macro-rx" type="image"></block></block>
  <block id="d8e4071f8ff887ffcc153fb5d0b96e4c" category="paragraph">如果在源或目标中使用接合路径、则XCP命令不会显示预期结果。</block>
  <block id="0799972e59c5570f8064c5d7c435f712" category="paragraph">运行XCP命令时、请使用SMB共享路径、而不是接合路径。</block>
  <block id="9afa0f0b30f216c0d2e442239c3fcb68" category="paragraph">如果源、目标或两者都是不含目录的接合、并且在迁移中使用了联机许可证、则可能会发生回溯错误。如果发生这种情况、XCP命令状态为<block ref="269f3d1562cbd15624e7d2c4b10122e3" prefix=" " category="inline-code"></block> 但是、控制台输出结束时会返回以下错误：</block>
  <block id="bbe48fb854ea022537208eeeff822f91" category="paragraph-title">关于此任务</block>
  <block id="cccedc8829a344b387fb08c393ffa970" category="list-text">复制<block ref="42dc92c99a13a4f3e1ce5f5dbffb3d77" prefix=" " category="inline-code"></block> 文件到Windows<block ref="d7aa32b0c582222819b91c8e0ccca765" prefix=" " category="inline-code"></block> 驱动器、此二进制文件可在内部使用<block ref="2e9d6141fdcc44d5e2fb72979401c9c5" prefix=" " category="inline-code"></block> 在您解压缩后<block ref="05d1190d81e37d06607cc19e21f63ea7" prefix=" " category="inline-code"></block> 文件</block>
  <block id="ea2ba5409e2977c3e953a67de8026eb6" category="list-text">复制<block ref="320b90518080edc05c5733db7267371a" prefix=" " category="inline-code"></block> 和<block ref="ad85a49f9eda6dfb5f9078894092f6dc" prefix=" " category="inline-code"></block> 文件<block ref="0c8468e8bc6e9c8ce8e4de412fee0c10" prefix=" " category="inline-code"></block> (在已配置XCP文件分析的Linux框中)为<block ref="0d4f2ad60efd19069346676a3fdc788c" prefix=" " category="inline-code"></block>。</block>
  <block id="6c7d8f4f4f290787ef78f7018dfd4e2d" category="paragraph">(可选)如果您有CA证书、请将该证书放入<block ref="0d4f2ad60efd19069346676a3fdc788c" prefix=" " category="inline-code"></block> 具有相同的名称和扩展名。</block>
  <block id="1236e8b02abb31c50db0b5adfed580fa" category="list-text">转到Windows计算机并运行<block ref="824313c3e49c75ad7db49a6c3bb90627" prefix=" " category="inline-code"></block>，现在已配置SMB的XCP文件分析。保持窗口打开以持续运行服务。</block>
  <block id="215b4f9995d464c6d896badee64ee9b9" category="list-text">在支持的浏览器上启动文件分析：<block ref="c1df14498e319bedff7cd295edf3fdbe" prefix=" " category="inline-code"></block></block>
  <block id="bec265af43e5553bf128ad29d47f3ec2" category="paragraph">请参见 <block ref="b1b298f808db7e093ee9abb7cc8bfdef" category="inline-link-macro-rx"></block> 有关支持的浏览器的信息。</block>
  <block id="366cf6c0c26349e7fd57569a205e0118" category="list-text">选择 ...<block ref="e0aa021e21dddbd6d8cecec71e9cf564" prefix=" " category="inline-code"></block> 显示对话框时。</block>
  <block id="e1654a0ebd1b4059457621d4f6159b2c" category="admonition">此时将打开一个新选项卡。如果浏览器上的弹出窗口被阻止、请启用该弹出窗口。</block>
  <block id="aa25bb4d2ad259acab66b7c3aec0ff22" category="list-text">接受URL的隐私策略。此时将显示以下消息：<block ref="52a5e45b970aa1f0355aee216766bb82" prefix=" " category="inline-code"></block></block>
  <block id="c120eb6bd0ec2886798025c46f211510" category="list-text">通过返回到托管XCP文件分析GUI的原始选项卡并刷新页面、在"Agents"卡下显示SMB代理。</block>
  <block id="722b6c185c309d307c4b435ca45ddb73" category="list-text">在运行文件分析之前、请确认运行文件分析的Linux服务器也已升级、并且该服务正在运行。</block>
  <block id="47d43dfa43648919ae8e1597263e39b7" category="list-text">替换<block ref="42dc92c99a13a4f3e1ce5f5dbffb3d77" prefix=" " category="inline-code"></block> 使用最新的二进制文件。</block>
  <block id="32b3893a51a3d83bcf15ac914ac45246" category="list-text">转到Windows计算机并运行<block ref="824313c3e49c75ad7db49a6c3bb90627" prefix=" " category="inline-code"></block> 为SMB配置XCP文件分析。保持窗口打开以持续运行服务。</block>
  <block id="eab515ad69a9c68d3ff4998a7a38c168" category="list-text">显示对话框时选择*OK*。</block>
  <block id="2af1ae573e96f9c96edbfe34f2ecd144" category="section-title">索引删除</block>
  <block id="ed394357d76e4a47c544b6679113b6b6" category="paragraph">您可以使用<block ref="2af1ae573e96f9c96edbfe34f2ecd144" prefix=" " category="inline-code"></block> 用于删除目录索引的命令。</block>
  <block id="269e3fa15ca9366f6cfcb1eac97c6cf0" category="paragraph">运行<block ref="1a1b0d47f4e6e0151b4df12640fe4bb0" prefix=" " category="inline-code"></block> 有关详细信息：</block>
  <block id="ea7072dd30b8128f4d74568ed70d406c" category="paragraph">文件已访问/已修改/已创建图形显示随时间变化的文件计数。X轴表示所做更改的时间段、Y轴表示所更改的文件数。</block>
  <block id="e66cb3e85cec55480dc46a379124f46a" category="section-title">访问/修改/创建的文件大小图形</block>
  <block id="5eeb433a134b50fcf2d2d02005945304" category="paragraph"><block ref="5eeb433a134b50fcf2d2d02005945304" category="inline-image-macro-rx" type="image"></block></block>
  <block id="b483a26f1bc7e903df1139b2bea4faca" category="paragraph">访问/修改/创建的文件大小图形显示随时间变化的文件大小。X轴表示所做更改的时间段、Y轴表示所更改文件的大小。</block>
  <block id="8105201d67059c07d533dcbbe25a3c67" category="section-title">按扩展名统计图的文件分布</block>
  <block id="2506a5990488ccea13845b28b0df2496" category="paragraph">此外、对于SMB共享、您可以通过在运行扫描之前选中ADS复选框来获取每个文件扩展名的备用数据流(ADS)文件数。</block>
  <block id="699e5e6ac0568498b21221ee949dd4a3" category="paragraph"><block ref="699e5e6ac0568498b21221ee949dd4a3" category="inline-image-macro-rx" type="image"></block></block>
  <block id="79f475897ad3ccfba85aa2fc2f2d9bad" category="section-title">文件大小分布(按扩展名统计图)</block>
  <block id="4ab3fb97b389232d625b03e49824e147" category="paragraph"><block ref="4ab3fb97b389232d625b03e49824e147" category="inline-image-macro-rx" type="image"></block></block>
  <block id="a07e34309c0f4fe3914143661296e902" category="paragraph">"按扩展名分布的文件大小"图表示文件共享中不同文件扩展名的累计大小。表示扩展名的分区大小取决于每个扩展名的文件大小。</block>
  <block id="c88f5d7f64740c2ea459ec0992a08786" category="paragraph">此外、对于SMB共享、您可以通过在运行扫描之前选中ADS复选框来获取不同类型的备用数据流(ADS)文件数量。</block>
  <block id="fa089a630122acf5e9273fce49f4cf34" category="paragraph"><block ref="fa089a630122acf5e9273fce49f4cf34" category="inline-image-macro-rx" type="image"></block></block>
  <block id="0c298119c26e2b6846ed04c0a3a19fc9" category="paragraph">运行<block ref="0b0f856b03e3ddcd7804298ac5bc4a97" prefix=" " category="inline-code"></block> 有关详细信息：</block>
  <block id="1b8208be7fabaa97780c143eb5ae291e" category="paragraph">运行<block ref="dc7a0e5e50a6e16de630993f68e9061c" prefix=" " category="inline-code"></block> 有关详细信息：</block>
  <block id="b802ccf3bd2b24d676e6542534797831" category="paragraph">运行<block ref="7aaf8f3c0f52b0fd5a97d37fbe81d5c5" prefix=" " category="inline-code"></block> 有关详细信息：</block>
  <block id="661c53c14b5d725221aa32bea431d3e5" category="paragraph">运行<block ref="a11baf9e315624a8a210305ae8b743d0" prefix=" " category="inline-code"></block> 有关详细信息：</block>
  <block id="364e9a46db7862ca5c256c97c53e1549" category="section-title">iSync</block>
  <block id="9fec924044f566c44ac4b73a69159e55" category="paragraph">。<block ref="a3e4a767ccc698fa80ecaf42af64deea" prefix=" " category="inline-code"></block> 命令会比较源和目标、并同步目标上的差异、而不使用目录索引。</block>
  <block id="bad38dd9274d1a634894e5113d9413a4" category="paragraph">您可以使用<block ref="a3e4a767ccc698fa80ecaf42af64deea" prefix=" " category="inline-code"></block> 使用<block ref="94e7e210543475d2dc1ee610e7b4af1d" prefix=" " category="inline-code"></block> 用于估计所需时间的选项<block ref="a3e4a767ccc698fa80ecaf42af64deea" prefix=" " category="inline-code"></block> 命令以同步增量更改。。<block ref="aac2d8e3007be7e24232c39330c3c010" prefix=" " category="inline-code"></block> 参数用于指定先前复制操作的目录名称。</block>
  <block id="9cd17ce87f50eb274407888411403ff8" category="admonition">如果更改的数据集大小超过已用数据集大小的25%、则<block ref="7bd0b9105a99766e080dee8fec4aeb60" prefix=" " category="inline-code"></block> 命令可能不会显示预期结果。</block>
  <block id="459c6a9653c4611cfe403e0bb61cbf46" category="paragraph">运行<block ref="c5cec64402f12bcecd0de64291764ac1" prefix=" " category="inline-code"></block> 有关详细信息：</block>
  <block id="523bf576f67a5d084abd1f8132e9502a" category="paragraph">有关NFS的系统要求、请参见 <block ref="3cd449c1c5d47073a7e303a49efe123e" category="inline-link-macro-rx"></block>。</block>
  <block id="05db61bcd816f14c22b7e7f5d67ba52b" category="paragraph">。<block ref="735003ab6f5797c8b8bdecbbbb9322a8" prefix=" " category="inline-code"></block> 此脚本会在Red Hat Enterprise Linux (RHEL)主机上安装XCP文件分析。在安装过程中、该脚本会在Linux主机上安装Postgrs数据库、Apache HTTPD服务器和其他所需的软件包。有关支持的特定RHEL版本的信息、请参见 <block ref="277e95e57632f1d20d4cd8ea672c1493" category="inline-link-macro-rx"></block>。您可以根据需要更改或更新到最新版本，并遵循安全准则。了解有关的更多信息<block ref="735003ab6f5797c8b8bdecbbbb9322a8" prefix=" " category="inline-code"></block> 脚本、运行<block ref="c9e6e0c436ae9fb0ae9b2dbd71031566" prefix=" " category="inline-code"></block> 在命令行上。</block>
  <block id="24b433b7484fd8534f2758a3f1c07835" category="list-text">如果正在运行任何XCP操作、NetApp建议您在开始配置之前完成这些操作。</block>
  <block id="9006d8368c0451141a424c581daa4673" category="list-text">如果在Linux计算机上配置了防火墙、则必须更改防火墙设置以启用XCP服务使用的端口5030。</block>
  <block id="83665cc8f640f7d31e0111fa038e919b" category="open-title">安装文件分析</block>
  <block id="d076d11b169432e433f473477c336200" category="list-text">导航到<block ref="430e727eb7fa4c8fdeb29b396f232465" prefix=" " category="inline-code"></block> 文件夹并运行<block ref="da2e8bb7b6693780728dfaf44a42c5eb" prefix=" " category="inline-code"></block> 脚本。</block>
  <block id="0948892f1f3963716f1ea89c2c91ebf1" category="paragraph">如果安装成功、则会显示以下消息：</block>
  <block id="e1b70521691b346e65e9958318dacf2e" category="admonition">您可以使用此用户名和密码登录到文件分析GUI。</block>
  <block id="366c2d7ffe8ad266421fea465e76182f" category="open-title">升级文件分析</block>
  <block id="2a98315fd4201cebbbb6d938823636fc" category="list-text">导航到<block ref="430e727eb7fa4c8fdeb29b396f232465" prefix=" " category="inline-code"></block> 文件夹并运行<block ref="b5e030b73727d125476b7c53beba4142" prefix=" " category="inline-code"></block>。</block>
  <block id="7ef1f929ba40266342a7f855750e3c3c" category="list-text">在提示符处、输入<block ref="415290769594460e2e485922904f345d" prefix=" " category="inline-code"></block> 清理和重新配置系统。</block>
  <block id="a708001a589c308bd39a2ac681f9dfa7" category="paragraph">批准脚本后、它会清理现有配置并重新配置系统。</block>
  <block id="f5ed1028b425be910b1ffedab0b028b5" category="paragraph">如果成功、则会显示以下消息：</block>
  <block id="dd30d0765f043033be3f305971f0b5e7" category="list-text">在支持的浏览器中启动文件分析：*\https://&lt;ip address of Linux&gt;/XCP*。</block>
  <block id="be16d400539b1607e9a0d3a74fafc967" category="paragraph">请参见 <block ref="3cd449c1c5d47073a7e303a49efe123e" category="inline-link-macro-rx"></block> 有关支持的浏览器的信息。</block>
  <block id="537eb93e68db7a00b7493adb72a38d6f" category="paragraph">从XCP 1.1.2开始、您可以在一台XCP主机上运行多个XCP作业或命令、但前提是该主机具有足够的资源来执行每个作业。当您运行支持多个作业的命令时、XCP会使用最小的主机内存来完成作业、从而为在同一主机配置上运行其他作业创建容量。</block>
  <block id="62b99230c0b2c5c3583167ab9dfa78cc" category="admonition">SMB数据迁移不支持在同一主机上运行多个XCP作业。</block>
  <block id="050938c7ac42f7b10bd832a5841f7a10" category="paragraph">以下XCP命令支持在同一主机上运行多个XCP作业：</block>
  <block id="33a674543ba02ee23aee431f514ab6fe" category="paragraph">不支持在同一主机上运行多个XCP作业<block ref="63ad9d34f3503826e5f649ae6b7ac92c" prefix=" " category="inline-code"></block> 命令：</block>
  <block id="a06060a624eec2a259a8cf550b7f95f1" category="summary">SMB的NTFS备用数据流迁移</block>
  <block id="3b84355abf1b4d56b9caf1c19b79b59b" category="paragraph">从XCP 1.4.3开始、XCP SMB支持使用迁移NTFS备用数据流(ADS)<block ref="c49e8400c997823541180a2559d2110e" prefix=" " category="inline-code"></block> 选项。</block>
  <block id="bee250b62c0906f0bc060c3df37dc24b" category="section-title">支持的用例</block>
  <block id="fa44916805192fd6a7bb83303abc9eb9" category="paragraph">您可以使用XCP SMB<block ref="12cba3ee81cf4a793796a51b6327c678" prefix=" " category="inline-code"></block> 和<block ref="63ad9d34f3503826e5f649ae6b7ac92c" prefix=" " category="inline-code"></block> 用于迁移包含ADS和XCP SMB的数据的命令<block ref="53aefec08170b2ebed981a0a86d0dbe0" prefix=" " category="inline-code"></block> 命令扫描SMB共享中的ADS。</block>
  <block id="389cd41d4ef291a89b508abaaa3371dc" category="section-title">支持的XCP SMB命令</block>
  <block id="2b58def6b3aee7ceb139f7ea48547941" category="paragraph">以下XCP SMB命令支持<block ref="c49e8400c997823541180a2559d2110e" prefix=" " category="inline-code"></block> 选项：</block>
  <block id="a4f108c6758a9ce630e9738c6a3d639c" category="list-text"><block ref="63ad9d34f3503826e5f649ae6b7ac92c" prefix="" category="inline-code"></block></block>
  <block id="d5b7e4797a358d7d8ed35976e484c442" category="paragraph">以下命令示例显示了如何使用<block ref="c49e8400c997823541180a2559d2110e" prefix=" " category="inline-code"></block> 选项：</block>
  <block id="6d99815f2116be9f5277c78a2eb60336" category="list-text"><block ref="24dbbd8f44d282712df87ffdaa269aa8" prefix="" category="inline-code"></block></block>
  <block id="4d1f659adec52a779af0bd4a40cf3803" category="list-text"><block ref="49ce806aa9683f16e550953d09c1bd68" prefix="" category="inline-code"></block></block>
  <block id="14249cefbaa5a36b0b9cb5b2cfbbb57d" category="list-text"><block ref="c264f300fbf748e364ab837928b14ee8" prefix="" category="inline-code"></block></block>
  <block id="b99588d251bf1019e0e822689ebaf7d2" category="list-text"><block ref="b9a9b1656ba3adc03b7fa7487e42a8f6" prefix="" category="inline-code"></block></block>
  <block id="01fe75bfb5351e8cb287658bc7ee5325" category="sidebar">NetApp XCP 1.9.2</block>
  <block id="06c7c6fe1390b1e7519864e5fd3adc1b" category="summary">XCP SMB错误故障排除</block>
  <block id="103bae74aac9cad62c4f7826cc30141d" category="doc">对XCP SMB错误进行故障排除</block>
  <block id="7419aab07885bbaf51b080c9e425bc30" category="paragraph">非root用户需要对已挂载的卷具有以下权限：</block>
  <block id="2026fedd5139e1b0c5c821a380478704" category="inline-link-macro">NetApp XCP 1.7通知</block>
  <block id="2352ab4b1d15708f12e9c724073f0b08" category="list-text"><block ref="2352ab4b1d15708f12e9c724073f0b08" category="inline-link-macro-rx"></block></block>
  <block id="755d31cf9123a00dd7a78550d0a499d4" category="inline-link-macro">NetApp XCP 1.6.2的通知</block>
  <block id="30deffa80c4bafbf914d65bc82f97dcf" category="list-text"><block ref="30deffa80c4bafbf914d65bc82f97dcf" category="inline-link-macro-rx"></block></block>
  <block id="48c524e7571b2b12d796413bd2177ebb" category="inline-link-macro">NetApp XCP 1.6.1的通知</block>
  <block id="fa06a27bb648a5fc7a3c82f5acdaee31" category="list-text"><block ref="fa06a27bb648a5fc7a3c82f5acdaee31" category="inline-link-macro-rx"></block></block>
  <block id="fa9d00e8e16d36faed7e27ef33cc9bb1" category="sidebar">NetApp XCP是一款基于客户端的软件、可实现可扩展的高性能数据迁移、以实现任意到NetApp以及从NetApp到NetApp的数据迁移和文件分析。您可以在此处找到有关XCP 1.6.2及更高版本软件的文档、包括如何安装、配置和使用XCP。NetApp 支持站点 上提供了1.6.2之前版本的XCP的文档。</block>
  <block id="0b5f5476de5c5e40cc0b9b6eac7b5003" category="sidebar">早期发行说明版本</block>
  <block id="a0bdfc7755831681bc292330bc4e3777" category="sidebar">XCP 1.6.1或更早版本的文档</block>
  <block id="50093a13cb17d2efa1a538b0678cc15e" category="list-text">复制<block ref="42dc92c99a13a4f3e1ce5f5dbffb3d77" prefix=" " category="inline-code"></block> 文件到Windows C：驱动器、此二进制文件可在中使用<block ref="b83dd8b00a764f84f57961a6d4eb38c7" prefix=" " category="inline-code"></block> 提取后<block ref="05d1190d81e37d06607cc19e21f63ea7" prefix=" " category="inline-code"></block> 文件</block>
</blocks>